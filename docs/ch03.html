<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.29">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Zahid Asghar">

<title>السلام علیکم :) – ISLR chapter 3</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">السلام علیکم :)</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./projects/index.qmd"> 
<span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#linear-regression" id="toc-linear-regression" class="nav-link active" data-scroll-target="#linear-regression">Linear Regression</a>
  <ul class="collapse">
  <li><a href="#libraries" id="toc-libraries" class="nav-link" data-scroll-target="#libraries">Libraries</a></li>
  <li><a href="#simple-linear-regression" id="toc-simple-linear-regression" class="nav-link" data-scroll-target="#simple-linear-regression">Simple Linear Regression</a></li>
  <li><a href="#multiple-linear-regression" id="toc-multiple-linear-regression" class="nav-link" data-scroll-target="#multiple-linear-regression">Multiple Linear Regression</a></li>
  <li><a href="#interaction-terms" id="toc-interaction-terms" class="nav-link" data-scroll-target="#interaction-terms">Interaction Terms</a></li>
  <li><a href="#non-linear-transformations-of-the-predictors" id="toc-non-linear-transformations-of-the-predictors" class="nav-link" data-scroll-target="#non-linear-transformations-of-the-predictors">Non-linear Transformations of the Predictors</a></li>
  <li><a href="#qualitative-predictors" id="toc-qualitative-predictors" class="nav-link" data-scroll-target="#qualitative-predictors">Qualitative Predictors</a></li>
  <li><a href="#writing-functions" id="toc-writing-functions" class="nav-link" data-scroll-target="#writing-functions">Writing Functions</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">ISLR chapter 3</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Zahid Asghar </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="linear-regression" class="level1">
<h1>Linear Regression</h1>
<section id="libraries" class="level2">
<h2 class="anchored" data-anchor-id="libraries">Libraries</h2>
<p>This is a little modified version of the code from the book <code>Introduction to Statistical Learning</code> by Gareth James, Daniela Witten, Trevor Hastie and Robert Tibshirani. The code is written in R and I have used the <code>tidyverse</code> package to make it more readable and easy to understand instead of using the base R functions.</p>
<p>The first thing we need to do is install and then load the <code>tidyverse</code> set of R packages to provide us with lots of extra functionality. You only need to install this once: once it’s installed we can simply load it into the workspace using the <code>library(packagename)</code> function each time we open a new R session.</p>
<p>Understanding data sets requires many hours/days or in some cases weeks.There are many commercially available software but open source community based software have now dominated and R is one of these. Here I also load the <code>MASS</code> package, which is a very large collection of data sets and functions. We also load the <code>ISLR2</code> package, which includes the data sets associated with the book <code>Introduction to Statistical Learning</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MASS)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ISLR2)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="simple-linear-regression" class="level2">
<h2 class="anchored" data-anchor-id="simple-linear-regression">Simple Linear Regression</h2>
<p>Here’s a tabular format representing the meta data for the <code>Boston</code> data set from the <code>ISLR2</code> library. This table provides the column name, a brief description, and the type of data in each column.</p>
<table class="table">
<colgroup>
<col style="width: 35%">
<col style="width: 35%">
<col style="width: 29%">
</colgroup>
<thead>
<tr class="header">
<th>Column Name</th>
<th>Description</th>
<th>Data Type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>crim</code></td>
<td>Per capita crime rate by town</td>
<td>Numeric</td>
</tr>
<tr class="even">
<td><code>zn</code></td>
<td>Proportion of residential land zoned for lots over 25,000 sq. ft.</td>
<td>Numeric</td>
</tr>
<tr class="odd">
<td><code>indus</code></td>
<td>Proportion of non-retail business acres per town</td>
<td>Numeric</td>
</tr>
<tr class="even">
<td><code>chas</code></td>
<td>Charles River dummy variable (1 if tract bounds river; 0 otherwise)</td>
<td>Categorical</td>
</tr>
<tr class="odd">
<td><code>nox</code></td>
<td>Nitrogen oxides concentration (parts per 10 million)</td>
<td>Numeric</td>
</tr>
<tr class="even">
<td><code>rm</code></td>
<td>Average number of rooms per dwelling</td>
<td>Numeric</td>
</tr>
<tr class="odd">
<td><code>age</code></td>
<td>Proportion of owner-occupied units built prior to 1940</td>
<td>Numeric</td>
</tr>
<tr class="even">
<td><code>dis</code></td>
<td>Weighted distances to five Boston employment centers</td>
<td>Numeric</td>
</tr>
<tr class="odd">
<td><code>rad</code></td>
<td>Index of accessibility to radial highways</td>
<td>Categorical</td>
</tr>
<tr class="even">
<td><code>tax</code></td>
<td>Full-value property-tax rate per $10,000</td>
<td>Numeric</td>
</tr>
<tr class="odd">
<td><code>ptratio</code></td>
<td>Pupil-teacher ratio by town</td>
<td>Numeric</td>
</tr>
<tr class="even">
<td><code>black</code></td>
<td>1000(Bk - 0.63)^2 where Bk is the proportion of Black people by town</td>
<td>Numeric</td>
</tr>
<tr class="odd">
<td><code>lstat</code></td>
<td>Percentage of lower status of the population</td>
<td>Numeric</td>
</tr>
<tr class="even">
<td><code>medv</code></td>
<td>Median value of owner-occupied homes in $1000’s</td>
<td>Numeric</td>
</tr>
</tbody>
</table>
<p>This meta data outlines the features available in the <code>Boston</code> dataset that can be used to predict the <code>medv</code> variable.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(Boston)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     crim zn indus chas   nox    rm  age    dis rad tax ptratio lstat medv
1 0.00632 18  2.31    0 0.538 6.575 65.2 4.0900   1 296    15.3  4.98 24.0
2 0.02731  0  7.07    0 0.469 6.421 78.9 4.9671   2 242    17.8  9.14 21.6
3 0.02729  0  7.07    0 0.469 7.185 61.1 4.9671   2 242    17.8  4.03 34.7
4 0.03237  0  2.18    0 0.458 6.998 45.8 6.0622   3 222    18.7  2.94 33.4
5 0.06905  0  2.18    0 0.458 7.147 54.2 6.0622   3 222    18.7  5.33 36.2
6 0.02985  0  2.18    0 0.458 6.430 58.7 6.0622   3 222    18.7  5.21 28.7</code></pre>
</div>
</div>
<p>To find out more about the data set, we can type <code>?Boston</code>.</p>
<p>We will start by using the <code>lm()</code> function to fit a simple linear regression model, with <code>medv</code> as the response and <code>lstat</code> as the predictor. The basic syntax is <code>lm(y ~ x, data)</code>, where <code>y</code> is the response, <code>x</code> is the predictor, and <code>data</code> is the data set in which these two variables are kept.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>lm_fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(medv <span class="sc">~</span> lstat)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in eval(predvars, data, env): object 'medv' not found</code></pre>
</div>
</div>
<p>The command causes an error because <code>R</code> does not know where to find the variables <code>medv</code> and <code>lstat</code>. The next line tells <code>R</code> that the variables are in <code>Boston</code>. If we attach <code>Boston</code>, the first line works fine because <code>R</code> now recognizes the variables.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>lm_fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(medv <span class="sc">~</span> lstat, <span class="at">data =</span> Boston)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">attach</span>(Boston)  <span class="co"># attach the Boston data set</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>lm_fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(medv <span class="sc">~</span> lstat) <span class="co"># fit the model with data already attached</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If we type <code>lm_fit</code>, some basic information about the model is output. For more detailed information, one may use <code>summary(lm_fit)</code> and I am using here <code>modelsummary</code> package to present summary in a more readable format. The <code>summary()</code> function outputs the coefficients of the model as well as their standard errors, <span class="math inline">\(t\)</span>-statistics, and <span class="math inline">\(p\)</span>-values. The <code>summary()</code> function also outputs the <span class="math inline">\(R^2\)</span> statistic and an analysis of variance (ANOVA) table, which breaks down the variance associated with the regression model and the residuals. This gives us <span class="math inline">\(p\)</span>-values and standard errors for the coefficients, as well as the <span class="math inline">\(R^2\)</span> statistic and <span class="math inline">\(F\)</span>-statistic for the model.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(modelsummary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`modelsummary` 2.0.0 now uses `tinytable` as its default table-drawing
  backend. Learn more at: https://vincentarelbundock.github.io/tinytable/

Revert to `kableExtra` for one session:

  options(modelsummary_factory_default = 'kableExtra')
  options(modelsummary_factory_latex = 'kableExtra')
  options(modelsummary_factory_html = 'kableExtra')

Silence this message forever:

  config_modelsummary(startup_message = FALSE)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">msummary</span>(lm_fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
 

  
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tinytable_aqnu32b4kv5m5p83ubbl</title>
    <style>
.table td.tinytable_css_5mhod5y0kqde4232m7i9, .table th.tinytable_css_5mhod5y0kqde4232m7i9 {    border-bottom: solid 0.1em #d3d8dc; }
.table td.tinytable_css_bz8pewlo0mifvkesug6c, .table th.tinytable_css_bz8pewlo0mifvkesug6c {    text-align: left; }
.table td.tinytable_css_fzxadae3w54e2h2tv2kj, .table th.tinytable_css_fzxadae3w54e2h2tv2kj {    text-align: center; }
.table td.tinytable_css_a23qsjzwupp38sd7auvl, .table th.tinytable_css_a23qsjzwupp38sd7auvl {    border-bottom: solid 0.05em black; }
    </style>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
    </script>
  

  
    <div class="container">
      <table class="table table-borderless" id="tinytable_aqnu32b4kv5m5p83ubbl" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">(1)</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td>(Intercept)</td>
                  <td>34.554   </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.563)  </td>
                </tr>
                <tr>
                  <td>lstat      </td>
                  <td>-0.950   </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.039)  </td>
                </tr>
                <tr>
                  <td>Num.Obs.   </td>
                  <td>506      </td>
                </tr>
                <tr>
                  <td>R2         </td>
                  <td>0.544    </td>
                </tr>
                <tr>
                  <td>R2 Adj.    </td>
                  <td>0.543    </td>
                </tr>
                <tr>
                  <td>AIC        </td>
                  <td>3289.0   </td>
                </tr>
                <tr>
                  <td>BIC        </td>
                  <td>3301.7   </td>
                </tr>
                <tr>
                  <td>Log.Lik.   </td>
                  <td>-1641.487</td>
                </tr>
                <tr>
                  <td>F          </td>
                  <td>601.618  </td>
                </tr>
                <tr>
                  <td>RMSE       </td>
                  <td>6.20     </td>
                </tr>
        </tbody>
      </table>
    </div>

    <script>
      function styleCell_tinytable_tadgeed9njgsh74ysc75(i, j, css_id) {
        var table = document.getElementById("tinytable_aqnu32b4kv5m5p83ubbl");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_aqnu32b4kv5m5p83ubbl');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_tinytable_tadgeed9njgsh74ysc75(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_aqnu32b4kv5m5p83ubbl");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }

window.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(0, 0, 'tinytable_css_5mhod5y0kqde4232m7i9') })
window.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(0, 1, 'tinytable_css_5mhod5y0kqde4232m7i9') })
window.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(0, 0, 'tinytable_css_bz8pewlo0mifvkesug6c') })
window.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(1, 0, 'tinytable_css_bz8pewlo0mifvkesug6c') })
window.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(2, 0, 'tinytable_css_bz8pewlo0mifvkesug6c') })
window.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(3, 0, 'tinytable_css_bz8pewlo0mifvkesug6c') })
window.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(4, 0, 'tinytable_css_bz8pewlo0mifvkesug6c') })
window.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(5, 0, 'tinytable_css_bz8pewlo0mifvkesug6c') })
window.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(6, 0, 'tinytable_css_bz8pewlo0mifvkesug6c') })
window.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(7, 0, 'tinytable_css_bz8pewlo0mifvkesug6c') })
window.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(8, 0, 'tinytable_css_bz8pewlo0mifvkesug6c') })
window.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(9, 0, 'tinytable_css_bz8pewlo0mifvkesug6c') })
window.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(10, 0, 'tinytable_css_bz8pewlo0mifvkesug6c') })
window.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(11, 0, 'tinytable_css_bz8pewlo0mifvkesug6c') })
window.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(12, 0, 'tinytable_css_bz8pewlo0mifvkesug6c') })
window.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(0, 1, 'tinytable_css_fzxadae3w54e2h2tv2kj') })
window.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(1, 1, 'tinytable_css_fzxadae3w54e2h2tv2kj') })
window.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(2, 1, 'tinytable_css_fzxadae3w54e2h2tv2kj') })
window.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(3, 1, 'tinytable_css_fzxadae3w54e2h2tv2kj') })
window.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(4, 1, 'tinytable_css_fzxadae3w54e2h2tv2kj') })
window.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(5, 1, 'tinytable_css_fzxadae3w54e2h2tv2kj') })
window.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(6, 1, 'tinytable_css_fzxadae3w54e2h2tv2kj') })
window.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(7, 1, 'tinytable_css_fzxadae3w54e2h2tv2kj') })
window.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(8, 1, 'tinytable_css_fzxadae3w54e2h2tv2kj') })
window.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(9, 1, 'tinytable_css_fzxadae3w54e2h2tv2kj') })
window.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(10, 1, 'tinytable_css_fzxadae3w54e2h2tv2kj') })
window.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(11, 1, 'tinytable_css_fzxadae3w54e2h2tv2kj') })
window.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(12, 1, 'tinytable_css_fzxadae3w54e2h2tv2kj') })
window.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(4, 0, 'tinytable_css_a23qsjzwupp38sd7auvl') })
window.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(4, 1, 'tinytable_css_a23qsjzwupp38sd7auvl') })
    </script>

  


</div>
</div>
<p>One may extract the coefficients of the model using the <code>coef()</code> function. The <code>names()</code> function can be used to extract the names of the coefficients.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(lm_fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "coefficients"  "residuals"     "effects"       "rank"         
 [5] "fitted.values" "assign"        "qr"            "df.residual"  
 [9] "xlevels"       "call"          "terms"         "model"        </code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(lm_fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(Intercept)       lstat 
 34.5538409  -0.9500494 </code></pre>
</div>
</div>
<p>For confidence intervals, we can use the <code>confint()</code> function. By default, <code>confint()</code> provides 95 % confidence intervals; however, this can be changed using the <code>level</code> argument.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">confint</span>(lm_fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                2.5 %     97.5 %
(Intercept) 33.448457 35.6592247
lstat       -1.026148 -0.8739505</code></pre>
</div>
</div>
<p>To predict the median house value for a given percentage of lower status of the population, we can use the <code>predict()</code> function. The <code>predict()</code> function can be used to produce confidence intervals and prediction intervals for the prediction.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">predict</span>(lm_fit, <span class="fu">data.frame</span>(<span class="at">lstat =</span> (<span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">15</span>))),</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>        <span class="at">interval =</span> <span class="st">"confidence"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       fit      lwr      upr
1 29.80359 29.00741 30.59978
2 25.05335 24.47413 25.63256
3 20.30310 19.73159 20.87461</code></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">predict</span>(lm_fit, <span class="fu">data.frame</span>(<span class="at">lstat =</span> (<span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">15</span>))),</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>        <span class="at">interval =</span> <span class="st">"prediction"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       fit       lwr      upr
1 29.80359 17.565675 42.04151
2 25.05335 12.827626 37.27907
3 20.30310  8.077742 32.52846</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(modelsummary)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit the linear model</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>lm_fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(medv <span class="sc">~</span> lstat, <span class="at">data =</span> Boston)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Create predictions with confidence intervals</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>predictions <span class="ot">&lt;-</span> <span class="fu">predict</span>(lm_fit, <span class="at">newdata =</span> <span class="fu">data.frame</span>(<span class="at">lstat =</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">15</span>)), <span class="at">interval =</span> <span class="st">"confidence"</span>)</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert predictions to a data frame</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>pred_df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(predictions)</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>pred_df<span class="sc">$</span>lstat <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">15</span>)</span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>pred_df <span class="sc">|&gt;</span> <span class="fu">gt</span>() <span class="sc">%&gt;%</span></span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_header</span>(<span class="at">title =</span> <span class="st">"Predicted Values with Confidence Intervals"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<div id="dkrhtimtqm" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#dkrhtimtqm table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#dkrhtimtqm thead, #dkrhtimtqm tbody, #dkrhtimtqm tfoot, #dkrhtimtqm tr, #dkrhtimtqm td, #dkrhtimtqm th {
  border-style: none;
}

#dkrhtimtqm p {
  margin: 0;
  padding: 0;
}

#dkrhtimtqm .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#dkrhtimtqm .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#dkrhtimtqm .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#dkrhtimtqm .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#dkrhtimtqm .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#dkrhtimtqm .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dkrhtimtqm .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#dkrhtimtqm .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#dkrhtimtqm .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#dkrhtimtqm .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#dkrhtimtqm .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#dkrhtimtqm .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#dkrhtimtqm .gt_spanner_row {
  border-bottom-style: hidden;
}

#dkrhtimtqm .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#dkrhtimtqm .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#dkrhtimtqm .gt_from_md > :first-child {
  margin-top: 0;
}

#dkrhtimtqm .gt_from_md > :last-child {
  margin-bottom: 0;
}

#dkrhtimtqm .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#dkrhtimtqm .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#dkrhtimtqm .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#dkrhtimtqm .gt_row_group_first td {
  border-top-width: 2px;
}

#dkrhtimtqm .gt_row_group_first th {
  border-top-width: 2px;
}

#dkrhtimtqm .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#dkrhtimtqm .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#dkrhtimtqm .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#dkrhtimtqm .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dkrhtimtqm .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#dkrhtimtqm .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#dkrhtimtqm .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#dkrhtimtqm .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#dkrhtimtqm .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dkrhtimtqm .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#dkrhtimtqm .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#dkrhtimtqm .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#dkrhtimtqm .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#dkrhtimtqm .gt_left {
  text-align: left;
}

#dkrhtimtqm .gt_center {
  text-align: center;
}

#dkrhtimtqm .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#dkrhtimtqm .gt_font_normal {
  font-weight: normal;
}

#dkrhtimtqm .gt_font_bold {
  font-weight: bold;
}

#dkrhtimtqm .gt_font_italic {
  font-style: italic;
}

#dkrhtimtqm .gt_super {
  font-size: 65%;
}

#dkrhtimtqm .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#dkrhtimtqm .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#dkrhtimtqm .gt_indent_1 {
  text-indent: 5px;
}

#dkrhtimtqm .gt_indent_2 {
  text-indent: 10px;
}

#dkrhtimtqm .gt_indent_3 {
  text-indent: 15px;
}

#dkrhtimtqm .gt_indent_4 {
  text-indent: 20px;
}

#dkrhtimtqm .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_heading">
<th colspan="4" class="gt_heading gt_title gt_font_normal gt_bottom_border">Predicted Values with Confidence Intervals</th>
</tr>
<tr class="odd gt_col_headings">
<th id="fit" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">fit</th>
<th id="lwr" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">lwr</th>
<th id="upr" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">upr</th>
<th id="lstat" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">lstat</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_right" headers="fit">29.80359</td>
<td class="gt_row gt_right" headers="lwr">29.00741</td>
<td class="gt_row gt_right" headers="upr">30.59978</td>
<td class="gt_row gt_right" headers="lstat">5</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="fit">25.05335</td>
<td class="gt_row gt_right" headers="lwr">24.47413</td>
<td class="gt_row gt_right" headers="upr">25.63256</td>
<td class="gt_row gt_right" headers="lstat">10</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="fit">20.30310</td>
<td class="gt_row gt_right" headers="lwr">19.73159</td>
<td class="gt_row gt_right" headers="upr">20.87461</td>
<td class="gt_row gt_right" headers="lstat">15</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<p>For instance, the 95 % confidence interval associated with a <code>lstat</code> value of 10 is <span class="math inline">\((24.47, 25.63)\)</span>, and the 95 % prediction interval is <span class="math inline">\((12.828, 37.28)\)</span>. As expected, the confidence and prediction intervals are centered around the same point (a predicted value of <span class="math inline">\(25.05\)</span> for <code>medv</code> when <code>lstat</code> equals 10), but the latter are substantially wider.</p>
<p>We will now plot <code>medv</code> and <code>lstat</code> along with the least squares regression line using ggplot2.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(Boston, <span class="fu">aes</span>(<span class="at">x =</span> lstat, <span class="at">y =</span> medv)) <span class="sc">+</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ch03_files/figure-html/chunk9-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>There is some evidence for non-linearity in the relationship between <code>lstat</code> and <code>medv</code>. We will explore this issue later in this lab.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(Boston, <span class="fu">aes</span>(<span class="at">x =</span> lstat, <span class="at">y =</span> medv)) <span class="sc">+</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_abline</span>(<span class="at">intercept =</span> <span class="dv">34</span>, <span class="at">slope =</span> <span class="sc">-</span><span class="dv">1</span>, <span class="at">color =</span> <span class="st">"red"</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">shape =</span> <span class="dv">20</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.
ℹ Please use `linewidth` instead.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ch03_files/figure-html/chunk10-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Next we examine some diagnostic plots, several of which were discussed in Section 3.3.3. Four diagnostic plots are automatically produced by applying the <code>plot()</code> function directly to the output from <code>lm()</code>. In general, this command will produce one plot at a time, and hitting <em>Enter</em> will generate the next plot. However, it is often convenient to view all four plots together. We can achieve this by using the <code>par()</code> and <code>mfrow()</code> functions, which tell <code>R</code> to split the display screen into separate panels so that multiple plots can be viewed simultaneously. For example, <code>par(mfrow = c(2, 2))</code> divides the plotting region into a <span class="math inline">\(2 \times 2\)</span> grid of panels.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load necessary libraries</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit the linear model</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>lm_fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(medv <span class="sc">~</span> lstat, <span class="at">data =</span> Boston)</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract augmented data for diagnostics</span></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>augmented_data <span class="ot">&lt;-</span> <span class="fu">augment</span>(lm_fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Residuals vs Fitted Plot</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(augmented_data, <span class="fu">aes</span>(.fitted, .resid)) <span class="sc">+</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">'loess'</span>, <span class="at">col =</span> <span class="st">'blue'</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Residuals vs Fitted"</span>, <span class="at">x =</span> <span class="st">"Fitted values"</span>, <span class="at">y =</span> <span class="st">"Residuals"</span>) <span class="sc">+</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ch03_files/figure-html/chunk12-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Normal Q-Q Plot</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(augmented_data, <span class="fu">aes</span>(<span class="at">sample =</span> .std.resid)) <span class="sc">+</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_qq</span>() <span class="sc">+</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_qq_line</span>() <span class="sc">+</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Normal Q-Q"</span>, <span class="at">x =</span> <span class="st">"Theoretical Quantiles"</span>, <span class="at">y =</span> <span class="st">"Standardized Residuals"</span>) <span class="sc">+</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ch03_files/figure-html/chunk13-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Scale-Location Plot (Spread of residuals)</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(augmented_data, <span class="fu">aes</span>(.fitted, <span class="fu">sqrt</span>(<span class="fu">abs</span>(.std.resid)))) <span class="sc">+</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">'loess'</span>, <span class="at">col =</span> <span class="st">'blue'</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Scale-Location"</span>, <span class="at">x =</span> <span class="st">"Fitted values"</span>, <span class="at">y =</span> <span class="st">"Sqrt(|Standardized Residuals|)"</span>) <span class="sc">+</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ch03_files/figure-html/chunk14-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Residuals vs Leverage Plot</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(augmented_data, <span class="fu">aes</span>(.hat, .std.resid)) <span class="sc">+</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">'loess'</span>, <span class="at">col =</span> <span class="st">'blue'</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="dv">3</span>, <span class="dv">3</span>), <span class="at">linetype =</span> <span class="st">"dashed"</span>, <span class="at">color =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Residuals vs Leverage"</span>, <span class="at">x =</span> <span class="st">"Leverage"</span>, <span class="at">y =</span> <span class="st">"Standardized Residuals"</span>) <span class="sc">+</span></span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ch03_files/figure-html/chunk15-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Highlight influential points</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace .rownames with row_number if needed</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a row number column to identify rows</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>augmented_data <span class="ot">&lt;-</span> augmented_data <span class="sc">%&gt;%</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">row_id =</span> <span class="fu">row_number</span>())</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Identify influential points using the row_id</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>influential_points <span class="ot">&lt;-</span> augmented_data <span class="sc">%&gt;%</span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(.hat <span class="sc">&gt;</span> <span class="dv">2</span> <span class="sc">*</span> <span class="fu">mean</span>(.hat)) <span class="sc">%&gt;%</span></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(row_id)</span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the identified influential points</span></span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(influential_points)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]   9  33  49 124 127 142 143 144 145 146 148 149 215 374 375 385 386 387 388
[20] 389 393 399 400 401 405 409 413 415 416 417 418 438 439 491</code></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(influential_points)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]   9  33  49 124 127 142 143 144 145 146 148 149 215 374 375 385 386 387 388
[20] 389 393 399 400 401 405 409 413 415 416 417 418 438 439 491</code></pre>
</div>
</div>
<p>On the basis of the residual plots, there is some evidence of non-linearity. Leverage statistics can be computed for any number of predictors using the <code>hatvalues()</code> function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>leverage <span class="ot">&lt;-</span> <span class="fu">hatvalues</span>(lm_fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The <code>which.max()</code> function identifies the index of the largest element of a vector. In this case, it tells us which observation has the largest leverage statistic.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">which.max</span>(leverage)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>375 
375 </code></pre>
</div>
</div>
</section>
<section id="multiple-linear-regression" class="level2">
<h2 class="anchored" data-anchor-id="multiple-linear-regression">Multiple Linear Regression</h2>
<p>Mutiple linear regression is an extension of simple linear regression to the case of two or more predictors. Each predictor has a regression coefficient (i.e.&nbsp;a slope), and there is one intercept. The model is given by</p>
<p><span class="math display">\[ Y_i = \beta_0 + \beta_1 X_1i + \beta_2 X_2i + \ldots + \beta_p X_pi + \epsilon_i. \]</span></p>
<p><span class="math display">\[ Y_i = \beta_0 + \beta_1 X_1i + \beta_2 X_2i + \ldots + \beta_p X_pi + \epsilon_i. \]</span> The <code>summary()</code> function produces a detailed summary of the regression fit. I will use <code>modelsummary</code> package to produce a more readable output.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>lm_fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(medv <span class="sc">~</span> lstat <span class="sc">+</span> age, <span class="at">data =</span> Boston)</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(modelsummary)</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a><span class="fu">modelsummary</span>(lm_fit, <span class="at">estimate =</span> <span class="st">"std.error"</span>, <span class="at">stars =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
 

  
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tinytable_y0wwvmf6m7jgyuk0gd6t</title>
    <style>
.table td.tinytable_css_am0ostdlf0s6ls4lcp7k, .table th.tinytable_css_am0ostdlf0s6ls4lcp7k {    border-bottom: solid 0.1em #d3d8dc; }
.table td.tinytable_css_ywc98hafc4ezsj623tey, .table th.tinytable_css_ywc98hafc4ezsj623tey {    text-align: left; }
.table td.tinytable_css_mtaygbiodkx993ayndyn, .table th.tinytable_css_mtaygbiodkx993ayndyn {    text-align: center; }
.table td.tinytable_css_vni95btyi4rygnrqw0e2, .table th.tinytable_css_vni95btyi4rygnrqw0e2 {    border-bottom: solid 0.05em black; }
    </style>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
    </script>
  

  
    <div class="container">
      <table class="table table-borderless" id="tinytable_y0wwvmf6m7jgyuk0gd6t" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">(1)</th>
              </tr>
        </thead>
        <tfoot><tr><td colspan="2">+ p &lt; 0.1, * p &lt; 0.05, ** p &lt; 0.01, *** p &lt; 0.001</td></tr></tfoot>
        <tbody>
                <tr>
                  <td>(Intercept)</td>
                  <td>0.731*** </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.731)  </td>
                </tr>
                <tr>
                  <td>lstat      </td>
                  <td>0.048*** </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.048)  </td>
                </tr>
                <tr>
                  <td>age        </td>
                  <td>0.012**  </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.012)  </td>
                </tr>
                <tr>
                  <td>Num.Obs.   </td>
                  <td>506      </td>
                </tr>
                <tr>
                  <td>R2         </td>
                  <td>0.551    </td>
                </tr>
                <tr>
                  <td>R2 Adj.    </td>
                  <td>0.549    </td>
                </tr>
                <tr>
                  <td>AIC        </td>
                  <td>3283.0   </td>
                </tr>
                <tr>
                  <td>BIC        </td>
                  <td>3299.9   </td>
                </tr>
                <tr>
                  <td>Log.Lik.   </td>
                  <td>-1637.503</td>
                </tr>
                <tr>
                  <td>F          </td>
                  <td>308.969  </td>
                </tr>
                <tr>
                  <td>RMSE       </td>
                  <td>6.15     </td>
                </tr>
        </tbody>
      </table>
    </div>

    <script>
      function styleCell_tinytable_dpt0shfxvoh64krh6pdp(i, j, css_id) {
        var table = document.getElementById("tinytable_y0wwvmf6m7jgyuk0gd6t");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_y0wwvmf6m7jgyuk0gd6t');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_tinytable_dpt0shfxvoh64krh6pdp(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_y0wwvmf6m7jgyuk0gd6t");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }

window.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(0, 0, 'tinytable_css_am0ostdlf0s6ls4lcp7k') })
window.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(0, 1, 'tinytable_css_am0ostdlf0s6ls4lcp7k') })
window.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(0, 0, 'tinytable_css_ywc98hafc4ezsj623tey') })
window.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(1, 0, 'tinytable_css_ywc98hafc4ezsj623tey') })
window.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(2, 0, 'tinytable_css_ywc98hafc4ezsj623tey') })
window.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(3, 0, 'tinytable_css_ywc98hafc4ezsj623tey') })
window.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(4, 0, 'tinytable_css_ywc98hafc4ezsj623tey') })
window.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(5, 0, 'tinytable_css_ywc98hafc4ezsj623tey') })
window.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(6, 0, 'tinytable_css_ywc98hafc4ezsj623tey') })
window.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(7, 0, 'tinytable_css_ywc98hafc4ezsj623tey') })
window.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(8, 0, 'tinytable_css_ywc98hafc4ezsj623tey') })
window.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(9, 0, 'tinytable_css_ywc98hafc4ezsj623tey') })
window.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(10, 0, 'tinytable_css_ywc98hafc4ezsj623tey') })
window.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(11, 0, 'tinytable_css_ywc98hafc4ezsj623tey') })
window.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(12, 0, 'tinytable_css_ywc98hafc4ezsj623tey') })
window.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(13, 0, 'tinytable_css_ywc98hafc4ezsj623tey') })
window.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(14, 0, 'tinytable_css_ywc98hafc4ezsj623tey') })
window.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(0, 1, 'tinytable_css_mtaygbiodkx993ayndyn') })
window.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(1, 1, 'tinytable_css_mtaygbiodkx993ayndyn') })
window.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(2, 1, 'tinytable_css_mtaygbiodkx993ayndyn') })
window.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(3, 1, 'tinytable_css_mtaygbiodkx993ayndyn') })
window.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(4, 1, 'tinytable_css_mtaygbiodkx993ayndyn') })
window.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(5, 1, 'tinytable_css_mtaygbiodkx993ayndyn') })
window.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(6, 1, 'tinytable_css_mtaygbiodkx993ayndyn') })
window.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(7, 1, 'tinytable_css_mtaygbiodkx993ayndyn') })
window.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(8, 1, 'tinytable_css_mtaygbiodkx993ayndyn') })
window.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(9, 1, 'tinytable_css_mtaygbiodkx993ayndyn') })
window.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(10, 1, 'tinytable_css_mtaygbiodkx993ayndyn') })
window.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(11, 1, 'tinytable_css_mtaygbiodkx993ayndyn') })
window.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(12, 1, 'tinytable_css_mtaygbiodkx993ayndyn') })
window.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(13, 1, 'tinytable_css_mtaygbiodkx993ayndyn') })
window.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(14, 1, 'tinytable_css_mtaygbiodkx993ayndyn') })
window.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(6, 0, 'tinytable_css_vni95btyi4rygnrqw0e2') })
window.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(6, 1, 'tinytable_css_vni95btyi4rygnrqw0e2') })
    </script>

  


</div>
</div>
<p>The <code>Boston</code> data set contains 12 variables, and so it would be cumbersome to have to type all of these in order to perform a regression using all of the predictors. Instead, we can use the following short-hand:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>lm_fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(medv <span class="sc">~</span> ., <span class="at">data =</span> Boston)</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">msummary</span>(lm_fit, <span class="at">estimate =</span> <span class="st">"std.error"</span>, <span class="at">stars =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
 

  
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tinytable_rtim97tkxk9igoa2jdiv</title>
    <style>
.table td.tinytable_css_c2cyczt2801tfqjcx108, .table th.tinytable_css_c2cyczt2801tfqjcx108 {    border-bottom: solid 0.1em #d3d8dc; }
.table td.tinytable_css_y0fz63c0hna7w5z9eywt, .table th.tinytable_css_y0fz63c0hna7w5z9eywt {    text-align: left; }
.table td.tinytable_css_9j2yt2psdcc2hg7w8f0q, .table th.tinytable_css_9j2yt2psdcc2hg7w8f0q {    text-align: center; }
.table td.tinytable_css_724m3cgxcd96obigdu1q, .table th.tinytable_css_724m3cgxcd96obigdu1q {    border-bottom: solid 0.05em black; }
    </style>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
    </script>
  

  
    <div class="container">
      <table class="table table-borderless" id="tinytable_rtim97tkxk9igoa2jdiv" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">(1)</th>
              </tr>
        </thead>
        <tfoot><tr><td colspan="2">+ p &lt; 0.1, * p &lt; 0.05, ** p &lt; 0.01, *** p &lt; 0.001</td></tr></tfoot>
        <tbody>
                <tr>
                  <td>(Intercept)</td>
                  <td>4.936*** </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(4.936)  </td>
                </tr>
                <tr>
                  <td>crim       </td>
                  <td>0.033*** </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.033)  </td>
                </tr>
                <tr>
                  <td>zn         </td>
                  <td>0.014*** </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.014)  </td>
                </tr>
                <tr>
                  <td>indus      </td>
                  <td>0.062    </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.062)  </td>
                </tr>
                <tr>
                  <td>chas       </td>
                  <td>0.870**  </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.870)  </td>
                </tr>
                <tr>
                  <td>nox        </td>
                  <td>3.851*** </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(3.851)  </td>
                </tr>
                <tr>
                  <td>rm         </td>
                  <td>0.420*** </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.420)  </td>
                </tr>
                <tr>
                  <td>age        </td>
                  <td>0.013    </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.013)  </td>
                </tr>
                <tr>
                  <td>dis        </td>
                  <td>0.202*** </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.202)  </td>
                </tr>
                <tr>
                  <td>rad        </td>
                  <td>0.067*** </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.067)  </td>
                </tr>
                <tr>
                  <td>tax        </td>
                  <td>0.004*** </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.004)  </td>
                </tr>
                <tr>
                  <td>ptratio    </td>
                  <td>0.132*** </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.132)  </td>
                </tr>
                <tr>
                  <td>lstat      </td>
                  <td>0.051*** </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.051)  </td>
                </tr>
                <tr>
                  <td>Num.Obs.   </td>
                  <td>506      </td>
                </tr>
                <tr>
                  <td>R2         </td>
                  <td>0.734    </td>
                </tr>
                <tr>
                  <td>R2 Adj.    </td>
                  <td>0.728    </td>
                </tr>
                <tr>
                  <td>AIC        </td>
                  <td>3037.8   </td>
                </tr>
                <tr>
                  <td>BIC        </td>
                  <td>3097.0   </td>
                </tr>
                <tr>
                  <td>Log.Lik.   </td>
                  <td>-1504.910</td>
                </tr>
                <tr>
                  <td>F          </td>
                  <td>113.544  </td>
                </tr>
                <tr>
                  <td>RMSE       </td>
                  <td>4.74     </td>
                </tr>
        </tbody>
      </table>
    </div>

    <script>
      function styleCell_tinytable_bp2rnde2pi68rzsqlt1j(i, j, css_id) {
        var table = document.getElementById("tinytable_rtim97tkxk9igoa2jdiv");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_rtim97tkxk9igoa2jdiv');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_tinytable_bp2rnde2pi68rzsqlt1j(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_rtim97tkxk9igoa2jdiv");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }

window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(0, 0, 'tinytable_css_c2cyczt2801tfqjcx108') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(0, 1, 'tinytable_css_c2cyczt2801tfqjcx108') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(0, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(1, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(2, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(3, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(4, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(5, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(6, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(7, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(8, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(9, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(10, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(11, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(12, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(13, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(14, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(15, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(16, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(17, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(18, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(19, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(20, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(21, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(22, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(23, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(24, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(25, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(26, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(27, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(28, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(29, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(30, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(31, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(32, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(33, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(34, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(0, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(1, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(2, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(3, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(4, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(5, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(6, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(7, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(8, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(9, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(10, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(11, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(12, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(13, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(14, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(15, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(16, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(17, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(18, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(19, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(20, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(21, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(22, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(23, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(24, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(25, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(26, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(27, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(28, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(29, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(30, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(31, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(32, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(33, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(34, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(26, 0, 'tinytable_css_724m3cgxcd96obigdu1q') })
window.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(26, 1, 'tinytable_css_724m3cgxcd96obigdu1q') })
    </script>

  


</div>
</div>
<p>We can access the individual components of a summary object by name. The <code>names()</code> function can be used to obtain the names of the components. The <code>summary()</code> function returns a list with components such as <code>call</code>, <code>terms</code>, <code>residuals</code>, <code>coefficients</code>, <code>aliased</code>, <code>sigma</code>, <code>df</code>, <code>r.squared</code>, <code>adj.r.squared</code>, <code>fstatistic</code>, <code>cov.unscaled</code>, <code>na.action</code>. The <code>vif()</code> function, part of the <code>car</code> package, can be used to compute variance inflation factors. Most VIF’s are low to moderate for this data. The <code>car</code> package is not part of the base <code>R</code> installation so it must be downloaded the first time you use it via the <code>install.packages()</code> function in <code>R</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(car)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: carData</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'car'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:dplyr':

    recode</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:purrr':

    some</code></pre>
</div>
</div>
<p>What if we would like to perform a regression using all of the variables but one? For example, in the above regression output, <code>age</code> has a high <span class="math inline">\(p\)</span>-value. So we may wish to run a regression excluding this predictor. The following syntax results in a regression using all predictors except <code>age</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>lm_fit1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(medv <span class="sc">~</span> . <span class="sc">-</span> age, <span class="at">data =</span> Boston)</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="fu">msummary</span>(lm_fit1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
 

  
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tinytable_fh533nvskvlgyxfrijo2</title>
    <style>
.table td.tinytable_css_51d16fbxbjpz9erwpjg9, .table th.tinytable_css_51d16fbxbjpz9erwpjg9 {    border-bottom: solid 0.1em #d3d8dc; }
.table td.tinytable_css_rh8se6kj3lx28ravhz7a, .table th.tinytable_css_rh8se6kj3lx28ravhz7a {    text-align: left; }
.table td.tinytable_css_v5rsqce8luenkxz8ehw1, .table th.tinytable_css_v5rsqce8luenkxz8ehw1 {    text-align: center; }
.table td.tinytable_css_uxbf24zmquormzu6vd8m, .table th.tinytable_css_uxbf24zmquormzu6vd8m {    border-bottom: solid 0.05em black; }
    </style>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
    </script>
  

  
    <div class="container">
      <table class="table table-borderless" id="tinytable_fh533nvskvlgyxfrijo2" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">(1)</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td>(Intercept)</td>
                  <td>41.525   </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(4.920)  </td>
                </tr>
                <tr>
                  <td>crim       </td>
                  <td>-0.121   </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.033)  </td>
                </tr>
                <tr>
                  <td>zn         </td>
                  <td>0.047    </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.014)  </td>
                </tr>
                <tr>
                  <td>indus      </td>
                  <td>0.013    </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.062)  </td>
                </tr>
                <tr>
                  <td>chas       </td>
                  <td>2.853    </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.868)  </td>
                </tr>
                <tr>
                  <td>nox        </td>
                  <td>-18.485  </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(3.714)  </td>
                </tr>
                <tr>
                  <td>rm         </td>
                  <td>3.681    </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.411)  </td>
                </tr>
                <tr>
                  <td>dis        </td>
                  <td>-1.507   </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.193)  </td>
                </tr>
                <tr>
                  <td>rad        </td>
                  <td>0.288    </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.067)  </td>
                </tr>
                <tr>
                  <td>tax        </td>
                  <td>-0.013   </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.004)  </td>
                </tr>
                <tr>
                  <td>ptratio    </td>
                  <td>-0.935   </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.132)  </td>
                </tr>
                <tr>
                  <td>lstat      </td>
                  <td>-0.547   </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.048)  </td>
                </tr>
                <tr>
                  <td>Num.Obs.   </td>
                  <td>506      </td>
                </tr>
                <tr>
                  <td>R2         </td>
                  <td>0.734    </td>
                </tr>
                <tr>
                  <td>R2 Adj.    </td>
                  <td>0.728    </td>
                </tr>
                <tr>
                  <td>AIC        </td>
                  <td>3035.9   </td>
                </tr>
                <tr>
                  <td>BIC        </td>
                  <td>3090.8   </td>
                </tr>
                <tr>
                  <td>Log.Lik.   </td>
                  <td>-1504.948</td>
                </tr>
                <tr>
                  <td>F          </td>
                  <td>124.092  </td>
                </tr>
                <tr>
                  <td>RMSE       </td>
                  <td>4.74     </td>
                </tr>
        </tbody>
      </table>
    </div>

    <script>
      function styleCell_tinytable_3204nmij5yt2uly64zqu(i, j, css_id) {
        var table = document.getElementById("tinytable_fh533nvskvlgyxfrijo2");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_fh533nvskvlgyxfrijo2');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_tinytable_3204nmij5yt2uly64zqu(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_fh533nvskvlgyxfrijo2");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }

window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(0, 0, 'tinytable_css_51d16fbxbjpz9erwpjg9') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(0, 1, 'tinytable_css_51d16fbxbjpz9erwpjg9') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(0, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(1, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(2, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(3, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(4, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(5, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(6, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(7, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(8, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(9, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(10, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(11, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(12, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(13, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(14, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(15, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(16, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(17, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(18, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(19, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(20, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(21, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(22, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(23, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(24, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(25, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(26, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(27, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(28, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(29, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(30, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(31, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(32, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(0, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(1, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(2, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(3, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(4, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(5, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(6, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(7, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(8, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(9, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(10, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(11, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(12, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(13, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(14, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(15, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(16, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(17, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(18, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(19, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(20, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(21, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(22, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(23, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(24, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(25, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(26, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(27, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(28, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(29, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(30, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(31, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(32, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(24, 0, 'tinytable_css_uxbf24zmquormzu6vd8m') })
window.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(24, 1, 'tinytable_css_uxbf24zmquormzu6vd8m') })
    </script>

  


</div>
</div>
<p>Alternatively, the <code>update()</code> function can be used.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>lm_fit1 <span class="ot">&lt;-</span> <span class="fu">update</span>(lm_fit, <span class="sc">~</span> . <span class="sc">-</span> age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="interaction-terms" class="level2">
<h2 class="anchored" data-anchor-id="interaction-terms">Interaction Terms</h2>
<p>It is easy to include interaction terms in a linear model using the <code>lm()</code> function. The syntax <code>lstat:age</code> tells <code>R</code> to include an interaction term between <code>lstat</code> and <code>age</code>. The syntax <code>lstat * age</code> simultaneously includes <code>lstat</code>, <code>age</code>, and the interaction term <code>lstat</code><span class="math inline">\(\times\)</span><code>age</code> as predictors; it is a shorthand for <code>lstat + age + lstat:age</code>. %We can also pass in transformed versions of the predictors.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">msummary</span>(<span class="fu">lm</span>(medv <span class="sc">~</span> lstat <span class="sc">*</span> age, <span class="at">data =</span> Boston), <span class="at">estimate =</span> <span class="st">"std.error"</span>, <span class="at">stars =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
 

  
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tinytable_9mhvxbwi0wbwi0kjtzmk</title>
    <style>
.table td.tinytable_css_c7yaacnc2ndp0visfpks, .table th.tinytable_css_c7yaacnc2ndp0visfpks {    border-bottom: solid 0.1em #d3d8dc; }
.table td.tinytable_css_xm3rvcufrbbpzbh9pr5r, .table th.tinytable_css_xm3rvcufrbbpzbh9pr5r {    text-align: left; }
.table td.tinytable_css_kn1lef89u2z17ykqfsa7, .table th.tinytable_css_kn1lef89u2z17ykqfsa7 {    text-align: center; }
.table td.tinytable_css_ggdlzch02pkllicya61e, .table th.tinytable_css_ggdlzch02pkllicya61e {    border-bottom: solid 0.05em black; }
    </style>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
    </script>
  

  
    <div class="container">
      <table class="table table-borderless" id="tinytable_9mhvxbwi0wbwi0kjtzmk" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">(1)</th>
              </tr>
        </thead>
        <tfoot><tr><td colspan="2">+ p &lt; 0.1, * p &lt; 0.05, ** p &lt; 0.01, *** p &lt; 0.001</td></tr></tfoot>
        <tbody>
                <tr>
                  <td>(Intercept)</td>
                  <td>1.470*** </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(1.470)  </td>
                </tr>
                <tr>
                  <td>lstat      </td>
                  <td>0.167*** </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.167)  </td>
                </tr>
                <tr>
                  <td>age        </td>
                  <td>0.020    </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.020)  </td>
                </tr>
                <tr>
                  <td>lstat × age</td>
                  <td>0.002*   </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.002)  </td>
                </tr>
                <tr>
                  <td>Num.Obs.   </td>
                  <td>506      </td>
                </tr>
                <tr>
                  <td>R2         </td>
                  <td>0.556    </td>
                </tr>
                <tr>
                  <td>R2 Adj.    </td>
                  <td>0.553    </td>
                </tr>
                <tr>
                  <td>AIC        </td>
                  <td>3280.0   </td>
                </tr>
                <tr>
                  <td>BIC        </td>
                  <td>3301.1   </td>
                </tr>
                <tr>
                  <td>Log.Lik.   </td>
                  <td>-1634.977</td>
                </tr>
                <tr>
                  <td>F          </td>
                  <td>209.312  </td>
                </tr>
                <tr>
                  <td>RMSE       </td>
                  <td>6.12     </td>
                </tr>
        </tbody>
      </table>
    </div>

    <script>
      function styleCell_tinytable_32camtwkxc1lb128xw07(i, j, css_id) {
        var table = document.getElementById("tinytable_9mhvxbwi0wbwi0kjtzmk");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_9mhvxbwi0wbwi0kjtzmk');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_tinytable_32camtwkxc1lb128xw07(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_9mhvxbwi0wbwi0kjtzmk");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }

window.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(0, 0, 'tinytable_css_c7yaacnc2ndp0visfpks') })
window.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(0, 1, 'tinytable_css_c7yaacnc2ndp0visfpks') })
window.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(0, 0, 'tinytable_css_xm3rvcufrbbpzbh9pr5r') })
window.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(1, 0, 'tinytable_css_xm3rvcufrbbpzbh9pr5r') })
window.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(2, 0, 'tinytable_css_xm3rvcufrbbpzbh9pr5r') })
window.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(3, 0, 'tinytable_css_xm3rvcufrbbpzbh9pr5r') })
window.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(4, 0, 'tinytable_css_xm3rvcufrbbpzbh9pr5r') })
window.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(5, 0, 'tinytable_css_xm3rvcufrbbpzbh9pr5r') })
window.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(6, 0, 'tinytable_css_xm3rvcufrbbpzbh9pr5r') })
window.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(7, 0, 'tinytable_css_xm3rvcufrbbpzbh9pr5r') })
window.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(8, 0, 'tinytable_css_xm3rvcufrbbpzbh9pr5r') })
window.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(9, 0, 'tinytable_css_xm3rvcufrbbpzbh9pr5r') })
window.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(10, 0, 'tinytable_css_xm3rvcufrbbpzbh9pr5r') })
window.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(11, 0, 'tinytable_css_xm3rvcufrbbpzbh9pr5r') })
window.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(12, 0, 'tinytable_css_xm3rvcufrbbpzbh9pr5r') })
window.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(13, 0, 'tinytable_css_xm3rvcufrbbpzbh9pr5r') })
window.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(14, 0, 'tinytable_css_xm3rvcufrbbpzbh9pr5r') })
window.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(15, 0, 'tinytable_css_xm3rvcufrbbpzbh9pr5r') })
window.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(16, 0, 'tinytable_css_xm3rvcufrbbpzbh9pr5r') })
window.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(0, 1, 'tinytable_css_kn1lef89u2z17ykqfsa7') })
window.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(1, 1, 'tinytable_css_kn1lef89u2z17ykqfsa7') })
window.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(2, 1, 'tinytable_css_kn1lef89u2z17ykqfsa7') })
window.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(3, 1, 'tinytable_css_kn1lef89u2z17ykqfsa7') })
window.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(4, 1, 'tinytable_css_kn1lef89u2z17ykqfsa7') })
window.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(5, 1, 'tinytable_css_kn1lef89u2z17ykqfsa7') })
window.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(6, 1, 'tinytable_css_kn1lef89u2z17ykqfsa7') })
window.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(7, 1, 'tinytable_css_kn1lef89u2z17ykqfsa7') })
window.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(8, 1, 'tinytable_css_kn1lef89u2z17ykqfsa7') })
window.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(9, 1, 'tinytable_css_kn1lef89u2z17ykqfsa7') })
window.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(10, 1, 'tinytable_css_kn1lef89u2z17ykqfsa7') })
window.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(11, 1, 'tinytable_css_kn1lef89u2z17ykqfsa7') })
window.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(12, 1, 'tinytable_css_kn1lef89u2z17ykqfsa7') })
window.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(13, 1, 'tinytable_css_kn1lef89u2z17ykqfsa7') })
window.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(14, 1, 'tinytable_css_kn1lef89u2z17ykqfsa7') })
window.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(15, 1, 'tinytable_css_kn1lef89u2z17ykqfsa7') })
window.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(16, 1, 'tinytable_css_kn1lef89u2z17ykqfsa7') })
window.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(8, 0, 'tinytable_css_ggdlzch02pkllicya61e') })
window.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(8, 1, 'tinytable_css_ggdlzch02pkllicya61e') })
    </script>

  


</div>
</div>
</section>
<section id="non-linear-transformations-of-the-predictors" class="level2">
<h2 class="anchored" data-anchor-id="non-linear-transformations-of-the-predictors">Non-linear Transformations of the Predictors</h2>
<p>The <code>lm()</code> function can also accommodate non-linear transformations of the predictors. For instance, given a predictor <span class="math inline">\(X\)</span>, we can create a predictor <span class="math inline">\(X^2\)</span> using <code>I(X^2)</code>. The function <code>I()</code> is needed since the <code>^</code> has a special meaning in a formula object; wrapping as we do allows the standard usage in <code>R</code>, which is to raise <code>X</code> to the power <code>2</code>. We now perform a regression of <code>medv</code> onto <code>lstat</code> and <code>lstat^2</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>lm_fit2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(medv <span class="sc">~</span> lstat <span class="sc">+</span> <span class="fu">I</span>(lstat<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="fu">msummary</span>(lm_fit2, <span class="at">estimate =</span> <span class="st">"std.error"</span>, <span class="at">stars =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
 

  
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tinytable_td1tu8wa9ttv779t6uut</title>
    <style>
.table td.tinytable_css_kgqu49pvjf32vn73gdcu, .table th.tinytable_css_kgqu49pvjf32vn73gdcu {    border-bottom: solid 0.1em #d3d8dc; }
.table td.tinytable_css_e5x23nblrobf623wgdwm, .table th.tinytable_css_e5x23nblrobf623wgdwm {    text-align: left; }
.table td.tinytable_css_j5x80n7veensg0uf5ngq, .table th.tinytable_css_j5x80n7veensg0uf5ngq {    text-align: center; }
.table td.tinytable_css_5r9w5djx3bzrryrlrv6i, .table th.tinytable_css_5r9w5djx3bzrryrlrv6i {    border-bottom: solid 0.05em black; }
    </style>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
    </script>
  

  
    <div class="container">
      <table class="table table-borderless" id="tinytable_td1tu8wa9ttv779t6uut" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">(1)</th>
              </tr>
        </thead>
        <tfoot><tr><td colspan="2">+ p &lt; 0.1, * p &lt; 0.05, ** p &lt; 0.01, *** p &lt; 0.001</td></tr></tfoot>
        <tbody>
                <tr>
                  <td>(Intercept)</td>
                  <td>0.872*** </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.872)  </td>
                </tr>
                <tr>
                  <td>lstat      </td>
                  <td>0.124*** </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.124)  </td>
                </tr>
                <tr>
                  <td>I(lstat^2) </td>
                  <td>0.004*** </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(0.004)  </td>
                </tr>
                <tr>
                  <td>Num.Obs.   </td>
                  <td>506      </td>
                </tr>
                <tr>
                  <td>R2         </td>
                  <td>0.641    </td>
                </tr>
                <tr>
                  <td>R2 Adj.    </td>
                  <td>0.639    </td>
                </tr>
                <tr>
                  <td>AIC        </td>
                  <td>3170.5   </td>
                </tr>
                <tr>
                  <td>BIC        </td>
                  <td>3187.4   </td>
                </tr>
                <tr>
                  <td>Log.Lik.   </td>
                  <td>-1581.258</td>
                </tr>
                <tr>
                  <td>F          </td>
                  <td>448.505  </td>
                </tr>
                <tr>
                  <td>RMSE       </td>
                  <td>5.51     </td>
                </tr>
        </tbody>
      </table>
    </div>

    <script>
      function styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(i, j, css_id) {
        var table = document.getElementById("tinytable_td1tu8wa9ttv779t6uut");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_td1tu8wa9ttv779t6uut');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_tinytable_hx5bxsrksbxuxbrbx1hf(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_td1tu8wa9ttv779t6uut");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }

window.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(0, 0, 'tinytable_css_kgqu49pvjf32vn73gdcu') })
window.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(0, 1, 'tinytable_css_kgqu49pvjf32vn73gdcu') })
window.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(0, 0, 'tinytable_css_e5x23nblrobf623wgdwm') })
window.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(1, 0, 'tinytable_css_e5x23nblrobf623wgdwm') })
window.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(2, 0, 'tinytable_css_e5x23nblrobf623wgdwm') })
window.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(3, 0, 'tinytable_css_e5x23nblrobf623wgdwm') })
window.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(4, 0, 'tinytable_css_e5x23nblrobf623wgdwm') })
window.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(5, 0, 'tinytable_css_e5x23nblrobf623wgdwm') })
window.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(6, 0, 'tinytable_css_e5x23nblrobf623wgdwm') })
window.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(7, 0, 'tinytable_css_e5x23nblrobf623wgdwm') })
window.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(8, 0, 'tinytable_css_e5x23nblrobf623wgdwm') })
window.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(9, 0, 'tinytable_css_e5x23nblrobf623wgdwm') })
window.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(10, 0, 'tinytable_css_e5x23nblrobf623wgdwm') })
window.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(11, 0, 'tinytable_css_e5x23nblrobf623wgdwm') })
window.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(12, 0, 'tinytable_css_e5x23nblrobf623wgdwm') })
window.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(13, 0, 'tinytable_css_e5x23nblrobf623wgdwm') })
window.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(14, 0, 'tinytable_css_e5x23nblrobf623wgdwm') })
window.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(0, 1, 'tinytable_css_j5x80n7veensg0uf5ngq') })
window.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(1, 1, 'tinytable_css_j5x80n7veensg0uf5ngq') })
window.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(2, 1, 'tinytable_css_j5x80n7veensg0uf5ngq') })
window.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(3, 1, 'tinytable_css_j5x80n7veensg0uf5ngq') })
window.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(4, 1, 'tinytable_css_j5x80n7veensg0uf5ngq') })
window.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(5, 1, 'tinytable_css_j5x80n7veensg0uf5ngq') })
window.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(6, 1, 'tinytable_css_j5x80n7veensg0uf5ngq') })
window.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(7, 1, 'tinytable_css_j5x80n7veensg0uf5ngq') })
window.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(8, 1, 'tinytable_css_j5x80n7veensg0uf5ngq') })
window.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(9, 1, 'tinytable_css_j5x80n7veensg0uf5ngq') })
window.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(10, 1, 'tinytable_css_j5x80n7veensg0uf5ngq') })
window.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(11, 1, 'tinytable_css_j5x80n7veensg0uf5ngq') })
window.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(12, 1, 'tinytable_css_j5x80n7veensg0uf5ngq') })
window.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(13, 1, 'tinytable_css_j5x80n7veensg0uf5ngq') })
window.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(14, 1, 'tinytable_css_j5x80n7veensg0uf5ngq') })
window.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(6, 0, 'tinytable_css_5r9w5djx3bzrryrlrv6i') })
window.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(6, 1, 'tinytable_css_5r9w5djx3bzrryrlrv6i') })
    </script>

  


</div>
</div>
<p>The near-zero <span class="math inline">\(p\)</span>-value associated with the quadratic term suggests that it leads to an improved model. We use the <code>anova()</code> function to further quantify the extent to which the quadratic fit is superior to the linear fit.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(<span class="fu">lm</span>(medv <span class="sc">~</span> ., <span class="at">data =</span> Boston))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = medv ~ ., data = Boston)

Residuals:
     Min       1Q   Median       3Q      Max 
-15.1304  -2.7673  -0.5814   1.9414  26.2526 

Coefficients:
              Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  41.617270   4.936039   8.431 3.79e-16 ***
crim         -0.121389   0.033000  -3.678 0.000261 ***
zn            0.046963   0.013879   3.384 0.000772 ***
indus         0.013468   0.062145   0.217 0.828520    
chas          2.839993   0.870007   3.264 0.001173 ** 
nox         -18.758022   3.851355  -4.870 1.50e-06 ***
rm            3.658119   0.420246   8.705  &lt; 2e-16 ***
age           0.003611   0.013329   0.271 0.786595    
dis          -1.490754   0.201623  -7.394 6.17e-13 ***
rad           0.289405   0.066908   4.325 1.84e-05 ***
tax          -0.012682   0.003801  -3.337 0.000912 ***
ptratio      -0.937533   0.132206  -7.091 4.63e-12 ***
lstat        -0.552019   0.050659 -10.897  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 4.798 on 493 degrees of freedom
Multiple R-squared:  0.7343,    Adjusted R-squared:  0.7278 
F-statistic: 113.5 on 12 and 493 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">anova</span>(lm_fit, lm_fit2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Analysis of Variance Table

Model 1: medv ~ crim + zn + indus + chas + nox + rm + age + dis + rad + 
    tax + ptratio + lstat
Model 2: medv ~ lstat + I(lstat^2)
  Res.Df   RSS  Df Sum of Sq      F    Pr(&gt;F)    
1    493 11349                                   
2    503 15347 -10   -3997.8 17.366 &lt; 2.2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
<p>Here Model 1 represents the linear submodel containing only one predictor, <code>lstat</code> <span class="math display">\[ medv_i = \beta_0 + \beta_1 \times lstat_i + \epsilon_i, \]</span></p>
<p>while Model 2 corresponds to the larger quadratic model that has two predictors, <code>lstat</code> and <code>lstat^2</code></p>
<p><span class="math display">\[ medv_i = \beta_0 + \beta_1 \times lstat_i + \beta_2 \times lstat_i^2 + \epsilon_i, \]</span></p>
<p>The <code>anova()</code> function performs a hypothesis test comparing the two models. The null hypothesis is that the two models fit the data equally well, and the alternative hypothesis is that the full model is superior. Here the <span class="math inline">\(F\)</span>-statistic is <span class="math inline">\(135\)</span> and the associated <span class="math inline">\(p\)</span>-value is virtually zero. This provides very clear evidence that the model containing the predictors <code>lstat</code> and <code>lstat^2</code> is far superior to the model that only contains the predictor <code>lstat</code>. This is not surprising, since earlier we saw evidence for non-linearity in the relationship between <code>medv</code> and <code>lstat</code>. Diagnostic plots can be used to further investigate the quality of the model fit using residuals.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">2</span>))</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(lm_fit2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ch03_files/figure-html/chunk24-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">2</span>))</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Base R diagnostic plots</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(lm_fit2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ch03_files/figure-html/diagnostic-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Enhanced diagnostic plots using the `car` package</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(car)</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a><span class="fu">residualPlots</span>(lm_fit2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ch03_files/figure-html/diagnostic-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>           Test stat Pr(&gt;|Test stat|)    
lstat        -0.7542           0.4511    
I(lstat^2)   -4.3276        1.820e-05 ***
Tukey test    6.1962        5.783e-10 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">qqPlot</span>(lm_fit2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 372 373</code></pre>
</div>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">spreadLevelPlot</span>(lm_fit2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Suggested power transformation:  0.01056432 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">influencePlot</span>(lm_fit2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       StudRes         Hat      CookD
215  2.1564869 0.020322879 0.03192524
372  4.7026322 0.002557843 0.01814214
373  4.5109537 0.002598989 0.01701993
375 -0.6268209 0.110612307 0.01630807
415 -1.7417833 0.092762866 0.10298355</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ch03_files/figure-html/diagnostic-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(olsrr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'olsrr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:MASS':

    cement</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:datasets':

    rivers</code></pre>
</div>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ols_plot_resid_fit</span>(lm_fit2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ch03_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(olsrr)</span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ols_plot_resid_hist</span>(lm_fit2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ch03_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(olsrr)</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ols_plot_resid_qq</span>(lm_fit2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="ch03_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ols_test_correlation</span>(lm_fit2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.9667391</code></pre>
</div>
</div>
<p>then we see that when the <code>lstat^2</code> term is included in the model, there is little discernible pattern in the residuals.</p>
<p>In order to create a cubic fit, we can include a predictor of the form <code>I(X^3)</code>. However, this approach can start to get cumbersome for higher-order polynomials. A better approach involves using the <code>poly()</code> function to create the polynomial within <code>lm()</code>. For example, the following command produces a fifth-order polynomial fit:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>lm_fit5 <span class="ot">&lt;-</span> <span class="fu">lm</span>(medv <span class="sc">~</span> <span class="fu">poly</span>(lstat, <span class="dv">5</span>))</span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a><span class="fu">msummary</span>(lm_fit5)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
 

  
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tinytable_mf6mlew1ej1u2njfi0bx</title>
    <style>
.table td.tinytable_css_e5jg0tm46ywltaj5cx9u, .table th.tinytable_css_e5jg0tm46ywltaj5cx9u {    border-bottom: solid 0.1em #d3d8dc; }
.table td.tinytable_css_laml9orov7k0croh47kv, .table th.tinytable_css_laml9orov7k0croh47kv {    text-align: left; }
.table td.tinytable_css_vpp780r31pl51msp4t3f, .table th.tinytable_css_vpp780r31pl51msp4t3f {    text-align: center; }
.table td.tinytable_css_j0u2bx8wvakwl53osj38, .table th.tinytable_css_j0u2bx8wvakwl53osj38 {    border-bottom: solid 0.05em black; }
    </style>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
    </script>
  

  
    <div class="container">
      <table class="table table-borderless" id="tinytable_mf6mlew1ej1u2njfi0bx" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">(1)</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td>(Intercept)    </td>
                  <td>22.533   </td>
                </tr>
                <tr>
                  <td>               </td>
                  <td>(0.232)  </td>
                </tr>
                <tr>
                  <td>poly(lstat, 5)1</td>
                  <td>-152.460 </td>
                </tr>
                <tr>
                  <td>               </td>
                  <td>(5.215)  </td>
                </tr>
                <tr>
                  <td>poly(lstat, 5)2</td>
                  <td>64.227   </td>
                </tr>
                <tr>
                  <td>               </td>
                  <td>(5.215)  </td>
                </tr>
                <tr>
                  <td>poly(lstat, 5)3</td>
                  <td>-27.051  </td>
                </tr>
                <tr>
                  <td>               </td>
                  <td>(5.215)  </td>
                </tr>
                <tr>
                  <td>poly(lstat, 5)4</td>
                  <td>25.452   </td>
                </tr>
                <tr>
                  <td>               </td>
                  <td>(5.215)  </td>
                </tr>
                <tr>
                  <td>poly(lstat, 5)5</td>
                  <td>-19.252  </td>
                </tr>
                <tr>
                  <td>               </td>
                  <td>(5.215)  </td>
                </tr>
                <tr>
                  <td>Num.Obs.       </td>
                  <td>506      </td>
                </tr>
                <tr>
                  <td>R2             </td>
                  <td>0.682    </td>
                </tr>
                <tr>
                  <td>R2 Adj.        </td>
                  <td>0.679    </td>
                </tr>
                <tr>
                  <td>AIC            </td>
                  <td>3115.2   </td>
                </tr>
                <tr>
                  <td>BIC            </td>
                  <td>3144.8   </td>
                </tr>
                <tr>
                  <td>Log.Lik.       </td>
                  <td>-1550.624</td>
                </tr>
                <tr>
                  <td>F              </td>
                  <td>214.159  </td>
                </tr>
                <tr>
                  <td>RMSE           </td>
                  <td>5.18     </td>
                </tr>
        </tbody>
      </table>
    </div>

    <script>
      function styleCell_tinytable_mfry9digwkzf1y06rn99(i, j, css_id) {
        var table = document.getElementById("tinytable_mf6mlew1ej1u2njfi0bx");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_mf6mlew1ej1u2njfi0bx');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_tinytable_mfry9digwkzf1y06rn99(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_mf6mlew1ej1u2njfi0bx");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }

window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(0, 0, 'tinytable_css_e5jg0tm46ywltaj5cx9u') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(0, 1, 'tinytable_css_e5jg0tm46ywltaj5cx9u') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(0, 0, 'tinytable_css_laml9orov7k0croh47kv') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(1, 0, 'tinytable_css_laml9orov7k0croh47kv') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(2, 0, 'tinytable_css_laml9orov7k0croh47kv') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(3, 0, 'tinytable_css_laml9orov7k0croh47kv') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(4, 0, 'tinytable_css_laml9orov7k0croh47kv') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(5, 0, 'tinytable_css_laml9orov7k0croh47kv') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(6, 0, 'tinytable_css_laml9orov7k0croh47kv') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(7, 0, 'tinytable_css_laml9orov7k0croh47kv') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(8, 0, 'tinytable_css_laml9orov7k0croh47kv') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(9, 0, 'tinytable_css_laml9orov7k0croh47kv') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(10, 0, 'tinytable_css_laml9orov7k0croh47kv') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(11, 0, 'tinytable_css_laml9orov7k0croh47kv') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(12, 0, 'tinytable_css_laml9orov7k0croh47kv') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(13, 0, 'tinytable_css_laml9orov7k0croh47kv') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(14, 0, 'tinytable_css_laml9orov7k0croh47kv') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(15, 0, 'tinytable_css_laml9orov7k0croh47kv') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(16, 0, 'tinytable_css_laml9orov7k0croh47kv') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(17, 0, 'tinytable_css_laml9orov7k0croh47kv') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(18, 0, 'tinytable_css_laml9orov7k0croh47kv') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(19, 0, 'tinytable_css_laml9orov7k0croh47kv') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(20, 0, 'tinytable_css_laml9orov7k0croh47kv') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(0, 1, 'tinytable_css_vpp780r31pl51msp4t3f') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(1, 1, 'tinytable_css_vpp780r31pl51msp4t3f') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(2, 1, 'tinytable_css_vpp780r31pl51msp4t3f') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(3, 1, 'tinytable_css_vpp780r31pl51msp4t3f') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(4, 1, 'tinytable_css_vpp780r31pl51msp4t3f') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(5, 1, 'tinytable_css_vpp780r31pl51msp4t3f') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(6, 1, 'tinytable_css_vpp780r31pl51msp4t3f') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(7, 1, 'tinytable_css_vpp780r31pl51msp4t3f') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(8, 1, 'tinytable_css_vpp780r31pl51msp4t3f') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(9, 1, 'tinytable_css_vpp780r31pl51msp4t3f') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(10, 1, 'tinytable_css_vpp780r31pl51msp4t3f') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(11, 1, 'tinytable_css_vpp780r31pl51msp4t3f') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(12, 1, 'tinytable_css_vpp780r31pl51msp4t3f') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(13, 1, 'tinytable_css_vpp780r31pl51msp4t3f') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(14, 1, 'tinytable_css_vpp780r31pl51msp4t3f') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(15, 1, 'tinytable_css_vpp780r31pl51msp4t3f') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(16, 1, 'tinytable_css_vpp780r31pl51msp4t3f') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(17, 1, 'tinytable_css_vpp780r31pl51msp4t3f') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(18, 1, 'tinytable_css_vpp780r31pl51msp4t3f') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(19, 1, 'tinytable_css_vpp780r31pl51msp4t3f') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(20, 1, 'tinytable_css_vpp780r31pl51msp4t3f') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(12, 0, 'tinytable_css_j0u2bx8wvakwl53osj38') })
window.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(12, 1, 'tinytable_css_j0u2bx8wvakwl53osj38') })
    </script>

  


</div>
</div>
<p>This suggests that including additional polynomial terms, up to fifth order, leads to an improvement in the model fit! However, further investigation of the data reveals that no polynomial terms beyond fifth order have significant <span class="math inline">\(p\)</span>-values in a regression fit.</p>
<p>By default, the <code>poly()</code> function orthogonalizes the predictors: this means that the features output by this function are not simply a sequence of powers of the argument. However, a linear model applied to the output of the <code>poly()</code> function will have the same fitted values as a linear model applied to the raw polynomials (although the coefficient estimates, standard errors, and p-values will differ). In order to obtain the raw polynomials from the <code>poly()</code> function, the argument <code>raw = TRUE</code> must be used.</p>
<p>Of course, we are in no way restricted to using polynomial transformations of the predictors. Here we try a log transformation.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">msummary</span>(<span class="fu">lm</span>(medv <span class="sc">~</span> <span class="fu">log</span>(rm), <span class="at">data =</span> Boston))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
 

  
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tinytable_v28p2dzkxm9i4i5xijlr</title>
    <style>
.table td.tinytable_css_q8qjyj2cvgd3x51d3g0l, .table th.tinytable_css_q8qjyj2cvgd3x51d3g0l {    border-bottom: solid 0.1em #d3d8dc; }
.table td.tinytable_css_efo4d8n951410lbgb0xt, .table th.tinytable_css_efo4d8n951410lbgb0xt {    text-align: left; }
.table td.tinytable_css_gu7l88wq1woes5zsw441, .table th.tinytable_css_gu7l88wq1woes5zsw441 {    text-align: center; }
.table td.tinytable_css_nmjehb7gjqjusivv3xhb, .table th.tinytable_css_nmjehb7gjqjusivv3xhb {    border-bottom: solid 0.05em black; }
    </style>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
    </script>
  

  
    <div class="container">
      <table class="table table-borderless" id="tinytable_v28p2dzkxm9i4i5xijlr" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">(1)</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td>(Intercept)</td>
                  <td>-76.488  </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(5.028)  </td>
                </tr>
                <tr>
                  <td>log(rm)    </td>
                  <td>54.055   </td>
                </tr>
                <tr>
                  <td>           </td>
                  <td>(2.739)  </td>
                </tr>
                <tr>
                  <td>Num.Obs.   </td>
                  <td>506      </td>
                </tr>
                <tr>
                  <td>R2         </td>
                  <td>0.436    </td>
                </tr>
                <tr>
                  <td>R2 Adj.    </td>
                  <td>0.435    </td>
                </tr>
                <tr>
                  <td>AIC        </td>
                  <td>3396.8   </td>
                </tr>
                <tr>
                  <td>BIC        </td>
                  <td>3409.5   </td>
                </tr>
                <tr>
                  <td>Log.Lik.   </td>
                  <td>-1695.424</td>
                </tr>
                <tr>
                  <td>F          </td>
                  <td>389.345  </td>
                </tr>
                <tr>
                  <td>RMSE       </td>
                  <td>6.90     </td>
                </tr>
        </tbody>
      </table>
    </div>

    <script>
      function styleCell_tinytable_zxswkpj8l1nv3qem7z3y(i, j, css_id) {
        var table = document.getElementById("tinytable_v28p2dzkxm9i4i5xijlr");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_v28p2dzkxm9i4i5xijlr');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_tinytable_zxswkpj8l1nv3qem7z3y(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_v28p2dzkxm9i4i5xijlr");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }

window.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(0, 0, 'tinytable_css_q8qjyj2cvgd3x51d3g0l') })
window.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(0, 1, 'tinytable_css_q8qjyj2cvgd3x51d3g0l') })
window.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(0, 0, 'tinytable_css_efo4d8n951410lbgb0xt') })
window.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(1, 0, 'tinytable_css_efo4d8n951410lbgb0xt') })
window.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(2, 0, 'tinytable_css_efo4d8n951410lbgb0xt') })
window.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(3, 0, 'tinytable_css_efo4d8n951410lbgb0xt') })
window.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(4, 0, 'tinytable_css_efo4d8n951410lbgb0xt') })
window.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(5, 0, 'tinytable_css_efo4d8n951410lbgb0xt') })
window.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(6, 0, 'tinytable_css_efo4d8n951410lbgb0xt') })
window.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(7, 0, 'tinytable_css_efo4d8n951410lbgb0xt') })
window.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(8, 0, 'tinytable_css_efo4d8n951410lbgb0xt') })
window.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(9, 0, 'tinytable_css_efo4d8n951410lbgb0xt') })
window.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(10, 0, 'tinytable_css_efo4d8n951410lbgb0xt') })
window.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(11, 0, 'tinytable_css_efo4d8n951410lbgb0xt') })
window.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(12, 0, 'tinytable_css_efo4d8n951410lbgb0xt') })
window.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(0, 1, 'tinytable_css_gu7l88wq1woes5zsw441') })
window.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(1, 1, 'tinytable_css_gu7l88wq1woes5zsw441') })
window.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(2, 1, 'tinytable_css_gu7l88wq1woes5zsw441') })
window.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(3, 1, 'tinytable_css_gu7l88wq1woes5zsw441') })
window.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(4, 1, 'tinytable_css_gu7l88wq1woes5zsw441') })
window.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(5, 1, 'tinytable_css_gu7l88wq1woes5zsw441') })
window.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(6, 1, 'tinytable_css_gu7l88wq1woes5zsw441') })
window.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(7, 1, 'tinytable_css_gu7l88wq1woes5zsw441') })
window.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(8, 1, 'tinytable_css_gu7l88wq1woes5zsw441') })
window.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(9, 1, 'tinytable_css_gu7l88wq1woes5zsw441') })
window.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(10, 1, 'tinytable_css_gu7l88wq1woes5zsw441') })
window.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(11, 1, 'tinytable_css_gu7l88wq1woes5zsw441') })
window.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(12, 1, 'tinytable_css_gu7l88wq1woes5zsw441') })
window.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(4, 0, 'tinytable_css_nmjehb7gjqjusivv3xhb') })
window.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(4, 1, 'tinytable_css_nmjehb7gjqjusivv3xhb') })
    </script>

  


</div>
</div>
</section>
<section id="qualitative-predictors" class="level2">
<h2 class="anchored" data-anchor-id="qualitative-predictors">Qualitative Predictors</h2>
<p>We will now examine the <code>Carseats</code> data, which is part of the <code>ISLR2</code> library. We will attempt to predict <code>Sales</code> (child car seat sales) in <span class="math inline">\(400\)</span> locations based on a number of predictors. Carseats have 400 rows and 11 columns.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(Carseats)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Sales CompPrice Income Advertising Population Price ShelveLoc Age Education
1  9.50       138     73          11        276   120       Bad  42        17
2 11.22       111     48          16        260    83      Good  65        10
3 10.06       113     35          10        269    80    Medium  59        12
4  7.40       117    100           4        466    97    Medium  55        14
5  4.15       141     64           3        340   128       Bad  38        13
6 10.81       124    113          13        501    72       Bad  78        16
  Urban  US
1   Yes Yes
2   Yes Yes
3   Yes Yes
4   Yes Yes
5   Yes  No
6    No Yes</code></pre>
</div>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>Carseats <span class="sc">|&gt;</span> janitor<span class="sc">::</span><span class="fu">clean_names</span>() <span class="sc">|&gt;</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  sales comp_price income advertising population price shelve_loc age education
1  9.50        138     73          11        276   120        Bad  42        17
2 11.22        111     48          16        260    83       Good  65        10
3 10.06        113     35          10        269    80     Medium  59        12
4  7.40        117    100           4        466    97     Medium  55        14
5  4.15        141     64           3        340   128        Bad  38        13
6 10.81        124    113          13        501    72        Bad  78        16
  urban  us
1   Yes Yes
2   Yes Yes
3   Yes Yes
4   Yes Yes
5   Yes  No
6    No Yes</code></pre>
</div>
</div>
<p>The <code>Carseats</code> data includes qualitative predictors such as <code>shelveloc</code>, an indicator of the quality of the shelving location—that is, the space within a store in which the car seat is displayed—at each location. The predictor <code>shelveloc</code> takes on three possible values: <em>Bad</em>, <em>Medium</em>, and <em>Good</em>. Given a qualitative variable such as <code>shelveloc</code>, <code>R</code> generates dummy variables automatically. Below we fit a multiple regression model that includes some interaction terms.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>lm_fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(Sales <span class="sc">~</span> . <span class="sc">+</span> Income<span class="sc">:</span>Advertising <span class="sc">+</span> Price<span class="sc">:</span>Age,</span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> Carseats)</span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a><span class="fu">msummary</span>(lm_fit)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
 

  
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>tinytable_qa0h6vgcsouzmzzdvmxa</title>
    <style>
.table td.tinytable_css_bmm4z0vw2k6ujui0xw7b, .table th.tinytable_css_bmm4z0vw2k6ujui0xw7b {    border-bottom: solid 0.1em #d3d8dc; }
.table td.tinytable_css_uwtzt38yrdkk4jk9tglc, .table th.tinytable_css_uwtzt38yrdkk4jk9tglc {    text-align: left; }
.table td.tinytable_css_e3250sjvu97s8ixjc91o, .table th.tinytable_css_e3250sjvu97s8ixjc91o {    text-align: center; }
.table td.tinytable_css_57ukihpcpq7y0divmrlr, .table th.tinytable_css_57ukihpcpq7y0divmrlr {    border-bottom: solid 0.05em black; }
    </style>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async="" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
    </script>
  

  
    <div class="container">
      <table class="table table-borderless" id="tinytable_qa0h6vgcsouzmzzdvmxa" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col"> </th>
                <th scope="col">(1)</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td>(Intercept)         </td>
                  <td>6.576   </td>
                </tr>
                <tr>
                  <td>                    </td>
                  <td>(1.009) </td>
                </tr>
                <tr>
                  <td>CompPrice           </td>
                  <td>0.093   </td>
                </tr>
                <tr>
                  <td>                    </td>
                  <td>(0.004) </td>
                </tr>
                <tr>
                  <td>Income              </td>
                  <td>0.011   </td>
                </tr>
                <tr>
                  <td>                    </td>
                  <td>(0.003) </td>
                </tr>
                <tr>
                  <td>Advertising         </td>
                  <td>0.070   </td>
                </tr>
                <tr>
                  <td>                    </td>
                  <td>(0.023) </td>
                </tr>
                <tr>
                  <td>Population          </td>
                  <td>0.000   </td>
                </tr>
                <tr>
                  <td>                    </td>
                  <td>(0.000) </td>
                </tr>
                <tr>
                  <td>Price               </td>
                  <td>-0.101  </td>
                </tr>
                <tr>
                  <td>                    </td>
                  <td>(0.007) </td>
                </tr>
                <tr>
                  <td>ShelveLocGood       </td>
                  <td>4.849   </td>
                </tr>
                <tr>
                  <td>                    </td>
                  <td>(0.153) </td>
                </tr>
                <tr>
                  <td>ShelveLocMedium     </td>
                  <td>1.953   </td>
                </tr>
                <tr>
                  <td>                    </td>
                  <td>(0.126) </td>
                </tr>
                <tr>
                  <td>Age                 </td>
                  <td>-0.058  </td>
                </tr>
                <tr>
                  <td>                    </td>
                  <td>(0.016) </td>
                </tr>
                <tr>
                  <td>Education           </td>
                  <td>-0.021  </td>
                </tr>
                <tr>
                  <td>                    </td>
                  <td>(0.020) </td>
                </tr>
                <tr>
                  <td>UrbanYes            </td>
                  <td>0.140   </td>
                </tr>
                <tr>
                  <td>                    </td>
                  <td>(0.112) </td>
                </tr>
                <tr>
                  <td>USYes               </td>
                  <td>-0.158  </td>
                </tr>
                <tr>
                  <td>                    </td>
                  <td>(0.149) </td>
                </tr>
                <tr>
                  <td>Income × Advertising</td>
                  <td>0.001   </td>
                </tr>
                <tr>
                  <td>                    </td>
                  <td>(0.000) </td>
                </tr>
                <tr>
                  <td>Price × Age         </td>
                  <td>0.000   </td>
                </tr>
                <tr>
                  <td>                    </td>
                  <td>(0.000) </td>
                </tr>
                <tr>
                  <td>Num.Obs.            </td>
                  <td>400     </td>
                </tr>
                <tr>
                  <td>R2                  </td>
                  <td>0.876   </td>
                </tr>
                <tr>
                  <td>R2 Adj.             </td>
                  <td>0.872   </td>
                </tr>
                <tr>
                  <td>AIC                 </td>
                  <td>1159.3  </td>
                </tr>
                <tr>
                  <td>BIC                 </td>
                  <td>1219.2  </td>
                </tr>
                <tr>
                  <td>Log.Lik.            </td>
                  <td>-564.669</td>
                </tr>
                <tr>
                  <td>F                   </td>
                  <td>209.988 </td>
                </tr>
                <tr>
                  <td>RMSE                </td>
                  <td>0.99    </td>
                </tr>
        </tbody>
      </table>
    </div>

    <script>
      function styleCell_tinytable_hpvrqif05g0r9lmicsi9(i, j, css_id) {
        var table = document.getElementById("tinytable_qa0h6vgcsouzmzzdvmxa");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_qa0h6vgcsouzmzzdvmxa');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_tinytable_hpvrqif05g0r9lmicsi9(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_qa0h6vgcsouzmzzdvmxa");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }

window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(0, 0, 'tinytable_css_bmm4z0vw2k6ujui0xw7b') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(0, 1, 'tinytable_css_bmm4z0vw2k6ujui0xw7b') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(0, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(1, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(2, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(3, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(4, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(5, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(6, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(7, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(8, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(9, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(10, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(11, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(12, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(13, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(14, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(15, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(16, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(17, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(18, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(19, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(20, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(21, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(22, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(23, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(24, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(25, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(26, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(27, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(28, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(29, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(30, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(31, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(32, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(33, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(34, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(35, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(36, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(0, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(1, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(2, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(3, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(4, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(5, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(6, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(7, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(8, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(9, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(10, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(11, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(12, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(13, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(14, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(15, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(16, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(17, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(18, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(19, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(20, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(21, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(22, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(23, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(24, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(25, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(26, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(27, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(28, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(29, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(30, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(31, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(32, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(33, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(34, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(35, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(36, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(28, 0, 'tinytable_css_57ukihpcpq7y0divmrlr') })
window.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(28, 1, 'tinytable_css_57ukihpcpq7y0divmrlr') })
    </script>

  


</div>
</div>
<p>The <code>contrasts()</code> function returns the coding that <code>R</code> uses for the dummy variables.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">attach</span>(Carseats)</span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a><span class="fu">contrasts</span>(ShelveLoc)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       Good Medium
Bad       0      0
Good      1      0
Medium    0      1</code></pre>
</div>
</div>
<p>Use <code>?contrasts</code> to learn about other contrasts, and how to set them.</p>
<p><code>R</code> has created a <code>ShelveLocGood</code> dummy variable that takes on a value of 1 if the shelving location is good, and 0 otherwise. It has also created a <code>ShelveLocMedium</code> dummy variable that equals 1 if the shelving location is medium, and 0 otherwise. A bad shelving location corresponds to a zero for each of the two dummy variables. The fact that the coefficient for <code>ShelveLocGood</code> in the regression output is positive indicates that a good shelving location is associated with high sales (relative to a bad location). And <code>ShelveLocMedium</code> has a smaller positive coefficient, indicating that a medium shelving location is associated with higher sales than a bad shelving location but lower sales than a good shelving location.</p>
</section>
<section id="writing-functions" class="level2">
<h2 class="anchored" data-anchor-id="writing-functions">Writing Functions</h2>
<p>R comes with numerous built-in functions, and many more are accessible through R libraries. However, there are times when a specific operation is needed for which no existing function is available. In such cases, we can create our own custom functions. Below, we illustrate this by creating a function called <code>LoadLibraries()</code> that loads the <code>tidyverse</code>, <code>broom</code>, and <code>car</code> packages. Attempting to call the function before its definition results in an error, as shown:</p>
<p>Next, we define the function. The <code>+</code> symbols are printed by R automatically and should not be typed by the user. The <code>{</code> symbol indicates that a block of commands is about to follow. Pressing <em>Enter</em> after <code>{</code> causes R to display the <code>+</code> prompt, allowing for the input of multiple commands. The block is closed with <code>}</code> to signal the end of the function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>LoadLibraries <span class="ot">&lt;-</span> <span class="cf">function</span>() {</span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(tidyverse)</span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(broom)</span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(car)</span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(MASS)</span>
<span id="cb84-6"><a href="#cb84-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(ISLR2)</span>
<span id="cb84-7"><a href="#cb84-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">"The libraries have been loaded."</span>)</span>
<span id="cb84-8"><a href="#cb84-8" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Typing <code>LoadLibraries</code> in the console after defining the function will display its content:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>LoadLibraries</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>function() {
  library(tidyverse)
  library(broom)
  library(car)
  library(MASS)
  library(ISLR2)
  print("The libraries have been loaded.")
}</code></pre>
</div>
</div>
<p>Calling the function will load the specified libraries and display the print message:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="fu">LoadLibraries</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "The libraries have been loaded."</code></pre>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Zahid Asghar</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>This page is built with ❤️ and <a href="https://quarto.org/">Quarto</a>.</p>
</div>
  </div>
</footer>




</body></html>