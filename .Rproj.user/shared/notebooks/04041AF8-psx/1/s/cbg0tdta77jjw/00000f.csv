"0","# Train-test split based on the date"
"0","train_data <- psx_clean %>%"
"0","  filter(date < as.Date(""2024-01-01""))"
"0",""
"0","test_data <- psx_clean %>%"
"0","  filter(date >= as.Date(""2024-01-01""))"
"0","# "
"0","# # Ensure direction is numeric (0 for Down, 1 for Up)"
"0","# train_data <- train_data %>%"
"0","#   mutate(direction = as.factor(direction))"
"0","# "
"0","# test_data <- test_data %>%"
"0","#   mutate(direction = as.factor(direction))"
"0","# "
"0","# # Ensure consistent factor levels for direction in both training and test data"
"0","# train_data$direction <- factor(train_data$direction, levels = c(0, 1))  # 0 = Down, 1 = Up"
"0","# test_data$direction <- factor(test_data$direction, levels = c(0, 1))"
"0",""
