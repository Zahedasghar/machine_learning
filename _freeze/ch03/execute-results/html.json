{
  "hash": "ba65749a96775b124739bf6599fc062c",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"ISLR chapter 3\"\nauthor: \"Zahid Asghar\"\ndata: \"03/11/2024\"\nformat:\n  html:\n    toc: true\nexecute:\n  freeze: auto\n---\n\n\n\n\n\n\n# Linear Regression\n\n\n## Libraries\n\nThis is a little modified version of the code from the book `Introduction to Statistical Learning` by Gareth James, Daniela Witten, Trevor Hastie and Robert Tibshirani. The code is written in R and I have used the `tidyverse` package to make it more readable and easy to understand instead of using the base R functions. \n\nThe first thing we need to do is install and then load the `tidyverse` set of R packages to provide us with lots of extra functionality. You only need to install this once: once it’s installed we can simply load it into the workspace using the `library(packagename)` function each time we open a new R session.\n\nUnderstanding data sets requires many hours/days or in some cases weeks.There are many commercially available software but open source community based software have now dominated and R is one of these.\nHere I also load the `MASS` package, which is a very large collection of data sets and functions. We  also load the `ISLR2` package, which includes the data sets associated with the book `Introduction to Statistical Learning`.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(MASS)\nlibrary(ISLR2)\nlibrary(tidyverse)\n```\n:::\n\n\n\n\n## Simple Linear Regression\nHere's a tabular format representing the meta data for the `Boston` data set from the `ISLR2` library. This table provides the column name, a brief description, and the type of data in each column.\n\n| Column Name | Description | Data Type |\n|-------------|-------------|-----------|\n| `crim`      | Per capita crime rate by town | Numeric |\n| `zn`        | Proportion of residential land zoned for lots over 25,000 sq. ft. | Numeric |\n| `indus`     | Proportion of non-retail business acres per town | Numeric |\n| `chas`      | Charles River dummy variable (1 if tract bounds river; 0 otherwise) | Categorical |\n| `nox`       | Nitrogen oxides concentration (parts per 10 million) | Numeric |\n| `rm`        | Average number of rooms per dwelling | Numeric |\n| `age`       | Proportion of owner-occupied units built prior to 1940 | Numeric |\n| `dis`       | Weighted distances to five Boston employment centers | Numeric |\n| `rad`       | Index of accessibility to radial highways | Categorical |\n| `tax`       | Full-value property-tax rate per $10,000 | Numeric |\n| `ptratio`   | Pupil-teacher ratio by town | Numeric |\n| `black`     | 1000(Bk - 0.63)^2 where Bk is the proportion of Black people by town | Numeric |\n| `lstat`     | Percentage of lower status of the population | Numeric |\n| `medv`      | Median value of owner-occupied homes in $1000's | Numeric |\n\nThis meta data outlines the features available in the `Boston` dataset that can be used to predict the `medv` variable. \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(Boston)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n     crim zn indus chas   nox    rm  age    dis rad tax ptratio lstat medv\n1 0.00632 18  2.31    0 0.538 6.575 65.2 4.0900   1 296    15.3  4.98 24.0\n2 0.02731  0  7.07    0 0.469 6.421 78.9 4.9671   2 242    17.8  9.14 21.6\n3 0.02729  0  7.07    0 0.469 7.185 61.1 4.9671   2 242    17.8  4.03 34.7\n4 0.03237  0  2.18    0 0.458 6.998 45.8 6.0622   3 222    18.7  2.94 33.4\n5 0.06905  0  2.18    0 0.458 7.147 54.2 6.0622   3 222    18.7  5.33 36.2\n6 0.02985  0  2.18    0 0.458 6.430 58.7 6.0622   3 222    18.7  5.21 28.7\n```\n\n\n:::\n:::\n\n\n\nTo find out more about the data set, we can type `?Boston`.\n\nWe will start by using the `lm()` function to fit a simple  linear regression model, with `medv` as the response and `lstat`  as the predictor. The basic syntax is `lm(y ~ x, data)`, where `y` is the response, `x` is the predictor, and `data` is the data set in which these two variables are kept.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlm_fit <- lm(medv ~ lstat)\n```\n\n::: {.cell-output .cell-output-error}\n\n```\nError in eval(predvars, data, env): object 'medv' not found\n```\n\n\n:::\n:::\n\n\n\nThe command causes an error because `R` does not know where to find the variables `medv` and `lstat`. The next line tells `R` that the variables are in `Boston`. If we attach `Boston`, the first line works fine because `R` now recognizes the variables.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlm_fit <- lm(medv ~ lstat, data = Boston)\nattach(Boston)  # attach the Boston data set\nlm_fit <- lm(medv ~ lstat) # fit the model with data already attached\n```\n:::\n\n\n\n\nIf we type `lm_fit`,  some basic information about the model is output. For more detailed information, one may use `summary(lm_fit)` and I am using here `modelsummary` package to present summary in a more readable format. The `summary()` function outputs the coefficients of the model as well as their standard errors, $t$-statistics, and $p$-values. The `summary()` function also outputs the $R^2$ statistic and an analysis of variance (ANOVA) table, which breaks down the variance associated with the regression model and the residuals. This gives us $p$-values and standard errors for the coefficients, as well as the $R^2$ statistic and $F$-statistic for the model.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(modelsummary)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n`modelsummary` 2.0.0 now uses `tinytable` as its default table-drawing\n  backend. Learn more at: https://vincentarelbundock.github.io/tinytable/\n\nRevert to `kableExtra` for one session:\n\n  options(modelsummary_factory_default = 'kableExtra')\n  options(modelsummary_factory_latex = 'kableExtra')\n  options(modelsummary_factory_html = 'kableExtra')\n\nSilence this message forever:\n\n  config_modelsummary(startup_message = FALSE)\n```\n\n\n:::\n\n```{.r .cell-code}\nmsummary(lm_fit)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<!DOCTYPE html> \n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>tinytable_aqnu32b4kv5m5p83ubbl</title>\n    <style>\n.table td.tinytable_css_5mhod5y0kqde4232m7i9, .table th.tinytable_css_5mhod5y0kqde4232m7i9 {    border-bottom: solid 0.1em #d3d8dc; }\n.table td.tinytable_css_bz8pewlo0mifvkesug6c, .table th.tinytable_css_bz8pewlo0mifvkesug6c {    text-align: left; }\n.table td.tinytable_css_fzxadae3w54e2h2tv2kj, .table th.tinytable_css_fzxadae3w54e2h2tv2kj {    text-align: center; }\n.table td.tinytable_css_a23qsjzwupp38sd7auvl, .table th.tinytable_css_a23qsjzwupp38sd7auvl {    border-bottom: solid 0.05em black; }\n    </style>\n    <script src=\"https://polyfill.io/v3/polyfill.min.js?features=es6\"></script>\n    <script id=\"MathJax-script\" async src=\"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\"></script>\n    <script>\n    MathJax = {\n      tex: {\n        inlineMath: [['$', '$'], ['\\\\(', '\\\\)']]\n      },\n      svg: {\n        fontCache: 'global'\n      }\n    };\n    </script>\n  </head>\n\n  <body>\n    <div class=\"container\">\n      <table class=\"table table-borderless\" id=\"tinytable_aqnu32b4kv5m5p83ubbl\" style=\"width: auto; margin-left: auto; margin-right: auto;\" data-quarto-disable-processing='true'>\n        <thead>\n        \n              <tr>\n                <th scope=\"col\"> </th>\n                <th scope=\"col\">(1)</th>\n              </tr>\n        </thead>\n        \n        <tbody>\n                <tr>\n                  <td>(Intercept)</td>\n                  <td>34.554   </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(0.563)  </td>\n                </tr>\n                <tr>\n                  <td>lstat      </td>\n                  <td>-0.950   </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(0.039)  </td>\n                </tr>\n                <tr>\n                  <td>Num.Obs.   </td>\n                  <td>506      </td>\n                </tr>\n                <tr>\n                  <td>R2         </td>\n                  <td>0.544    </td>\n                </tr>\n                <tr>\n                  <td>R2 Adj.    </td>\n                  <td>0.543    </td>\n                </tr>\n                <tr>\n                  <td>AIC        </td>\n                  <td>3289.0   </td>\n                </tr>\n                <tr>\n                  <td>BIC        </td>\n                  <td>3301.7   </td>\n                </tr>\n                <tr>\n                  <td>Log.Lik.   </td>\n                  <td>-1641.487</td>\n                </tr>\n                <tr>\n                  <td>F          </td>\n                  <td>601.618  </td>\n                </tr>\n                <tr>\n                  <td>RMSE       </td>\n                  <td>6.20     </td>\n                </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <script>\n      function styleCell_tinytable_tadgeed9njgsh74ysc75(i, j, css_id) {\n        var table = document.getElementById(\"tinytable_aqnu32b4kv5m5p83ubbl\");\n        table.rows[i].cells[j].classList.add(css_id);\n      }\n      function insertSpanRow(i, colspan, content) {\n        var table = document.getElementById('tinytable_aqnu32b4kv5m5p83ubbl');\n        var newRow = table.insertRow(i);\n        var newCell = newRow.insertCell(0);\n        newCell.setAttribute(\"colspan\", colspan);\n        // newCell.innerText = content;\n        // this may be unsafe, but innerText does not interpret <br>\n        newCell.innerHTML = content;\n      }\n      function spanCell_tinytable_tadgeed9njgsh74ysc75(i, j, rowspan, colspan) {\n        var table = document.getElementById(\"tinytable_aqnu32b4kv5m5p83ubbl\");\n        const targetRow = table.rows[i];\n        const targetCell = targetRow.cells[j];\n        for (let r = 0; r < rowspan; r++) {\n          // Only start deleting cells to the right for the first row (r == 0)\n          if (r === 0) {\n            // Delete cells to the right of the target cell in the first row\n            for (let c = colspan - 1; c > 0; c--) {\n              if (table.rows[i + r].cells[j + c]) {\n                table.rows[i + r].deleteCell(j + c);\n              }\n            }\n          }\n          // For rows below the first, delete starting from the target column\n          if (r > 0) {\n            for (let c = colspan - 1; c >= 0; c--) {\n              if (table.rows[i + r] && table.rows[i + r].cells[j]) {\n                table.rows[i + r].deleteCell(j);\n              }\n            }\n          }\n        }\n        // Set rowspan and colspan of the target cell\n        targetCell.rowSpan = rowspan;\n        targetCell.colSpan = colspan;\n      }\n\nwindow.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(0, 0, 'tinytable_css_5mhod5y0kqde4232m7i9') })\nwindow.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(0, 1, 'tinytable_css_5mhod5y0kqde4232m7i9') })\nwindow.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(0, 0, 'tinytable_css_bz8pewlo0mifvkesug6c') })\nwindow.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(1, 0, 'tinytable_css_bz8pewlo0mifvkesug6c') })\nwindow.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(2, 0, 'tinytable_css_bz8pewlo0mifvkesug6c') })\nwindow.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(3, 0, 'tinytable_css_bz8pewlo0mifvkesug6c') })\nwindow.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(4, 0, 'tinytable_css_bz8pewlo0mifvkesug6c') })\nwindow.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(5, 0, 'tinytable_css_bz8pewlo0mifvkesug6c') })\nwindow.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(6, 0, 'tinytable_css_bz8pewlo0mifvkesug6c') })\nwindow.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(7, 0, 'tinytable_css_bz8pewlo0mifvkesug6c') })\nwindow.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(8, 0, 'tinytable_css_bz8pewlo0mifvkesug6c') })\nwindow.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(9, 0, 'tinytable_css_bz8pewlo0mifvkesug6c') })\nwindow.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(10, 0, 'tinytable_css_bz8pewlo0mifvkesug6c') })\nwindow.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(11, 0, 'tinytable_css_bz8pewlo0mifvkesug6c') })\nwindow.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(12, 0, 'tinytable_css_bz8pewlo0mifvkesug6c') })\nwindow.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(0, 1, 'tinytable_css_fzxadae3w54e2h2tv2kj') })\nwindow.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(1, 1, 'tinytable_css_fzxadae3w54e2h2tv2kj') })\nwindow.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(2, 1, 'tinytable_css_fzxadae3w54e2h2tv2kj') })\nwindow.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(3, 1, 'tinytable_css_fzxadae3w54e2h2tv2kj') })\nwindow.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(4, 1, 'tinytable_css_fzxadae3w54e2h2tv2kj') })\nwindow.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(5, 1, 'tinytable_css_fzxadae3w54e2h2tv2kj') })\nwindow.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(6, 1, 'tinytable_css_fzxadae3w54e2h2tv2kj') })\nwindow.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(7, 1, 'tinytable_css_fzxadae3w54e2h2tv2kj') })\nwindow.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(8, 1, 'tinytable_css_fzxadae3w54e2h2tv2kj') })\nwindow.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(9, 1, 'tinytable_css_fzxadae3w54e2h2tv2kj') })\nwindow.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(10, 1, 'tinytable_css_fzxadae3w54e2h2tv2kj') })\nwindow.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(11, 1, 'tinytable_css_fzxadae3w54e2h2tv2kj') })\nwindow.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(12, 1, 'tinytable_css_fzxadae3w54e2h2tv2kj') })\nwindow.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(4, 0, 'tinytable_css_a23qsjzwupp38sd7auvl') })\nwindow.addEventListener('load', function () { styleCell_tinytable_tadgeed9njgsh74ysc75(4, 1, 'tinytable_css_a23qsjzwupp38sd7auvl') })\n    </script>\n\n  </body>\n\n</html>\n```\n\n:::\n:::\n\n\n\nOne may extract the coefficients of the model using the `coef()` function. The `names()` function can be used to extract the names of the coefficients.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnames(lm_fit)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] \"coefficients\"  \"residuals\"     \"effects\"       \"rank\"         \n [5] \"fitted.values\" \"assign\"        \"qr\"            \"df.residual\"  \n [9] \"xlevels\"       \"call\"          \"terms\"         \"model\"        \n```\n\n\n:::\n\n```{.r .cell-code}\ncoef(lm_fit)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n(Intercept)       lstat \n 34.5538409  -0.9500494 \n```\n\n\n:::\n:::\n\n\n\nFor confidence intervals, we can use the `confint()` function. By default, `confint()` provides 95 \\% confidence intervals; however, this can be changed using the `level` argument. \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nconfint(lm_fit)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                2.5 %     97.5 %\n(Intercept) 33.448457 35.6592247\nlstat       -1.026148 -0.8739505\n```\n\n\n:::\n:::\n\n\n\nTo predict the median house value for a given percentage of lower status of the population, we can use the `predict()` function. The `predict()` function can be used to produce confidence intervals and prediction intervals for the prediction.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npredict(lm_fit, data.frame(lstat = (c(5, 10, 15))),\n        interval = \"confidence\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n       fit      lwr      upr\n1 29.80359 29.00741 30.59978\n2 25.05335 24.47413 25.63256\n3 20.30310 19.73159 20.87461\n```\n\n\n:::\n\n```{.r .cell-code}\npredict(lm_fit, data.frame(lstat = (c(5, 10, 15))),\n        interval = \"prediction\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n       fit       lwr      upr\n1 29.80359 17.565675 42.04151\n2 25.05335 12.827626 37.27907\n3 20.30310  8.077742 32.52846\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(modelsummary)\nlibrary(broom)\n\n# Fit the linear model\nlm_fit <- lm(medv ~ lstat, data = Boston)\n\n# Create predictions with confidence intervals\npredictions <- predict(lm_fit, newdata = data.frame(lstat = c(5, 10, 15)), interval = \"confidence\")\n\n# Convert predictions to a data frame\npred_df <- as.data.frame(predictions)\npred_df$lstat <- c(5, 10, 15)\n\nlibrary(gt)\npred_df |> gt() %>%\n  tab_header(title = \"Predicted Values with Confidence Intervals\")\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"dkrhtimtqm\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#dkrhtimtqm table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#dkrhtimtqm thead, #dkrhtimtqm tbody, #dkrhtimtqm tfoot, #dkrhtimtqm tr, #dkrhtimtqm td, #dkrhtimtqm th {\n  border-style: none;\n}\n\n#dkrhtimtqm p {\n  margin: 0;\n  padding: 0;\n}\n\n#dkrhtimtqm .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#dkrhtimtqm .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#dkrhtimtqm .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#dkrhtimtqm .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#dkrhtimtqm .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#dkrhtimtqm .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#dkrhtimtqm .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#dkrhtimtqm .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#dkrhtimtqm .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#dkrhtimtqm .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#dkrhtimtqm .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#dkrhtimtqm .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#dkrhtimtqm .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#dkrhtimtqm .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#dkrhtimtqm .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#dkrhtimtqm .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#dkrhtimtqm .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#dkrhtimtqm .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#dkrhtimtqm .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dkrhtimtqm .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#dkrhtimtqm .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#dkrhtimtqm .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#dkrhtimtqm .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dkrhtimtqm .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#dkrhtimtqm .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#dkrhtimtqm .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#dkrhtimtqm .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dkrhtimtqm .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#dkrhtimtqm .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#dkrhtimtqm .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#dkrhtimtqm .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#dkrhtimtqm .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#dkrhtimtqm .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dkrhtimtqm .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#dkrhtimtqm .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#dkrhtimtqm .gt_left {\n  text-align: left;\n}\n\n#dkrhtimtqm .gt_center {\n  text-align: center;\n}\n\n#dkrhtimtqm .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#dkrhtimtqm .gt_font_normal {\n  font-weight: normal;\n}\n\n#dkrhtimtqm .gt_font_bold {\n  font-weight: bold;\n}\n\n#dkrhtimtqm .gt_font_italic {\n  font-style: italic;\n}\n\n#dkrhtimtqm .gt_super {\n  font-size: 65%;\n}\n\n#dkrhtimtqm .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#dkrhtimtqm .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#dkrhtimtqm .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#dkrhtimtqm .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#dkrhtimtqm .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#dkrhtimtqm .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#dkrhtimtqm .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"4\" class=\"gt_heading gt_title gt_font_normal gt_bottom_border\" style>Predicted Values with Confidence Intervals</td>\n    </tr>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"fit\">fit</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"lwr\">lwr</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"upr\">upr</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"lstat\">lstat</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"fit\" class=\"gt_row gt_right\">29.80359</td>\n<td headers=\"lwr\" class=\"gt_row gt_right\">29.00741</td>\n<td headers=\"upr\" class=\"gt_row gt_right\">30.59978</td>\n<td headers=\"lstat\" class=\"gt_row gt_right\">5</td></tr>\n    <tr><td headers=\"fit\" class=\"gt_row gt_right\">25.05335</td>\n<td headers=\"lwr\" class=\"gt_row gt_right\">24.47413</td>\n<td headers=\"upr\" class=\"gt_row gt_right\">25.63256</td>\n<td headers=\"lstat\" class=\"gt_row gt_right\">10</td></tr>\n    <tr><td headers=\"fit\" class=\"gt_row gt_right\">20.30310</td>\n<td headers=\"lwr\" class=\"gt_row gt_right\">19.73159</td>\n<td headers=\"upr\" class=\"gt_row gt_right\">20.87461</td>\n<td headers=\"lstat\" class=\"gt_row gt_right\">15</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\nFor instance, the 95 \\% confidence interval associated with a `lstat` value of 10 is $(24.47, 25.63)$, and the 95 \\% prediction interval is $(12.828, 37.28)$.\nAs expected, the confidence and prediction intervals are centered around the same point (a predicted value of $25.05$ for `medv` when `lstat` equals 10), but the latter are substantially wider.\n\nWe will now plot `medv` and `lstat` along with the least squares regression line using ggplot2.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(Boston, aes(x = lstat, y = medv)) +\n  geom_point() +\n  geom_smooth(method = \"lm\", se = FALSE)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n`geom_smooth()` using formula = 'y ~ x'\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](ch03_files/figure-html/chunk9-1.png){width=672}\n:::\n:::\n\n\n\n\n\nThere is some evidence for non-linearity in the relationship between `lstat` and `medv`. We will explore this issue  later in this lab.\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(Boston, aes(x = lstat, y = medv)) +\n  geom_point() +\n  geom_smooth(method = \"lm\", se = FALSE) +\n  geom_abline(intercept = 34, slope = -1, color = \"red\", size = 3) +\n  geom_point(color = \"red\") +\n  geom_point(shape = 20) \n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\nℹ Please use `linewidth` instead.\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n`geom_smooth()` using formula = 'y ~ x'\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](ch03_files/figure-html/chunk10-1.png){width=672}\n:::\n:::\n\n\n\n\n\nNext we examine some diagnostic plots, several of which were discussed\nin Section 3.3.3. Four diagnostic plots are automatically\nproduced by applying the `plot()` function directly to the output\nfrom `lm()`. In general, this command will produce one plot at a\ntime, and hitting *Enter* will generate the next plot. However,\nit is often convenient to view all four plots together. We can achieve\nthis by using the `par()` and `mfrow()` functions, which tell `R` to split\nthe display screen into separate panels so that multiple plots can be\nviewed simultaneously. For example,  `par(mfrow = c(2, 2))` divides the plotting\nregion into a $2 \\times 2$ grid of panels.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load necessary libraries\n\nlibrary(broom)\n\n# Fit the linear model\nlm_fit <- lm(medv ~ lstat, data = Boston)\n\n# Extract augmented data for diagnostics\naugmented_data <- augment(lm_fit)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Residuals vs Fitted Plot\nggplot(augmented_data, aes(.fitted, .resid)) +\n  geom_point() +\n  geom_smooth(method = 'loess', col = 'blue', se = FALSE) +\n  labs(title = \"Residuals vs Fitted\", x = \"Fitted values\", y = \"Residuals\") +\n  theme_minimal()\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n`geom_smooth()` using formula = 'y ~ x'\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](ch03_files/figure-html/chunk12-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Normal Q-Q Plot\nggplot(augmented_data, aes(sample = .std.resid)) +\n  geom_qq() +\n  geom_qq_line() +\n  labs(title = \"Normal Q-Q\", x = \"Theoretical Quantiles\", y = \"Standardized Residuals\") +\n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](ch03_files/figure-html/chunk13-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Scale-Location Plot (Spread of residuals)\nggplot(augmented_data, aes(.fitted, sqrt(abs(.std.resid)))) +\n  geom_point() +\n  geom_smooth(method = 'loess', col = 'blue', se = FALSE) +\n  labs(title = \"Scale-Location\", x = \"Fitted values\", y = \"Sqrt(|Standardized Residuals|)\") +\n  theme_minimal()\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n`geom_smooth()` using formula = 'y ~ x'\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](ch03_files/figure-html/chunk14-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Residuals vs Leverage Plot\nggplot(augmented_data, aes(.hat, .std.resid)) +\n  geom_point() +\n  geom_smooth(method = 'loess', col = 'blue', se = FALSE) +\n  geom_hline(yintercept = c(-3, 3), linetype = \"dashed\", color = \"red\") +\n  labs(title = \"Residuals vs Leverage\", x = \"Leverage\", y = \"Standardized Residuals\") +\n  theme_minimal()\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n`geom_smooth()` using formula = 'y ~ x'\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](ch03_files/figure-html/chunk15-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Highlight influential points\n# Replace .rownames with row_number if needed\n# Add a row number column to identify rows\naugmented_data <- augmented_data %>%\n  mutate(row_id = row_number())\n\n# Identify influential points using the row_id\ninfluential_points <- augmented_data %>%\n  filter(.hat > 2 * mean(.hat)) %>%\n  pull(row_id)\n\n# Print the identified influential points\nprint(influential_points)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1]   9  33  49 124 127 142 143 144 145 146 148 149 215 374 375 385 386 387 388\n[20] 389 393 399 400 401 405 409 413 415 416 417 418 438 439 491\n```\n\n\n:::\n\n```{.r .cell-code}\nprint(influential_points)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1]   9  33  49 124 127 142 143 144 145 146 148 149 215 374 375 385 386 387 388\n[20] 389 393 399 400 401 405 409 413 415 416 417 418 438 439 491\n```\n\n\n:::\n:::\n\n\n\n\nOn the basis of the residual plots, there is some evidence of non-linearity.\nLeverage statistics can be computed for any number of predictors using the `hatvalues()` function.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nleverage <- hatvalues(lm_fit)\n```\n:::\n\n\n\nThe `which.max()` function identifies the index of the largest element of a vector. In this case, it tells us which observation has the largest leverage statistic. \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwhich.max(leverage)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n375 \n375 \n```\n\n\n:::\n:::\n\n\n\n## Multiple Linear Regression\n\nMutiple linear regression is an extension of simple linear regression to the case of two or more predictors. Each predictor has a regression coefficient (i.e. a slope), and there is one intercept. The model is given by \n\n$$ Y_i = \\beta_0 + \\beta_1 X_1i + \\beta_2 X_2i + \\ldots + \\beta_p X_pi + \\epsilon_i. $$\n\n$$ Y_i = \\beta_0 + \\beta_1 X_1i + \\beta_2 X_2i + \\ldots + \\beta_p X_pi + \\epsilon_i. $$\nThe `summary()` function produces a detailed summary of the regression fit. I will use `modelsummary` package to produce a more readable output.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlm_fit <- lm(medv ~ lstat + age, data = Boston)\nlibrary(modelsummary)\n\nmodelsummary(lm_fit, estimate = \"std.error\", stars = TRUE)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<!DOCTYPE html> \n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>tinytable_y0wwvmf6m7jgyuk0gd6t</title>\n    <style>\n.table td.tinytable_css_am0ostdlf0s6ls4lcp7k, .table th.tinytable_css_am0ostdlf0s6ls4lcp7k {    border-bottom: solid 0.1em #d3d8dc; }\n.table td.tinytable_css_ywc98hafc4ezsj623tey, .table th.tinytable_css_ywc98hafc4ezsj623tey {    text-align: left; }\n.table td.tinytable_css_mtaygbiodkx993ayndyn, .table th.tinytable_css_mtaygbiodkx993ayndyn {    text-align: center; }\n.table td.tinytable_css_vni95btyi4rygnrqw0e2, .table th.tinytable_css_vni95btyi4rygnrqw0e2 {    border-bottom: solid 0.05em black; }\n    </style>\n    <script src=\"https://polyfill.io/v3/polyfill.min.js?features=es6\"></script>\n    <script id=\"MathJax-script\" async src=\"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\"></script>\n    <script>\n    MathJax = {\n      tex: {\n        inlineMath: [['$', '$'], ['\\\\(', '\\\\)']]\n      },\n      svg: {\n        fontCache: 'global'\n      }\n    };\n    </script>\n  </head>\n\n  <body>\n    <div class=\"container\">\n      <table class=\"table table-borderless\" id=\"tinytable_y0wwvmf6m7jgyuk0gd6t\" style=\"width: auto; margin-left: auto; margin-right: auto;\" data-quarto-disable-processing='true'>\n        <thead>\n        \n              <tr>\n                <th scope=\"col\"> </th>\n                <th scope=\"col\">(1)</th>\n              </tr>\n        </thead>\n        <tfoot><tr><td colspan='2'>+ p < 0.1, * p < 0.05, ** p < 0.01, *** p < 0.001</td></tr></tfoot>\n        <tbody>\n                <tr>\n                  <td>(Intercept)</td>\n                  <td>0.731*** </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(0.731)  </td>\n                </tr>\n                <tr>\n                  <td>lstat      </td>\n                  <td>0.048*** </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(0.048)  </td>\n                </tr>\n                <tr>\n                  <td>age        </td>\n                  <td>0.012**  </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(0.012)  </td>\n                </tr>\n                <tr>\n                  <td>Num.Obs.   </td>\n                  <td>506      </td>\n                </tr>\n                <tr>\n                  <td>R2         </td>\n                  <td>0.551    </td>\n                </tr>\n                <tr>\n                  <td>R2 Adj.    </td>\n                  <td>0.549    </td>\n                </tr>\n                <tr>\n                  <td>AIC        </td>\n                  <td>3283.0   </td>\n                </tr>\n                <tr>\n                  <td>BIC        </td>\n                  <td>3299.9   </td>\n                </tr>\n                <tr>\n                  <td>Log.Lik.   </td>\n                  <td>-1637.503</td>\n                </tr>\n                <tr>\n                  <td>F          </td>\n                  <td>308.969  </td>\n                </tr>\n                <tr>\n                  <td>RMSE       </td>\n                  <td>6.15     </td>\n                </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <script>\n      function styleCell_tinytable_dpt0shfxvoh64krh6pdp(i, j, css_id) {\n        var table = document.getElementById(\"tinytable_y0wwvmf6m7jgyuk0gd6t\");\n        table.rows[i].cells[j].classList.add(css_id);\n      }\n      function insertSpanRow(i, colspan, content) {\n        var table = document.getElementById('tinytable_y0wwvmf6m7jgyuk0gd6t');\n        var newRow = table.insertRow(i);\n        var newCell = newRow.insertCell(0);\n        newCell.setAttribute(\"colspan\", colspan);\n        // newCell.innerText = content;\n        // this may be unsafe, but innerText does not interpret <br>\n        newCell.innerHTML = content;\n      }\n      function spanCell_tinytable_dpt0shfxvoh64krh6pdp(i, j, rowspan, colspan) {\n        var table = document.getElementById(\"tinytable_y0wwvmf6m7jgyuk0gd6t\");\n        const targetRow = table.rows[i];\n        const targetCell = targetRow.cells[j];\n        for (let r = 0; r < rowspan; r++) {\n          // Only start deleting cells to the right for the first row (r == 0)\n          if (r === 0) {\n            // Delete cells to the right of the target cell in the first row\n            for (let c = colspan - 1; c > 0; c--) {\n              if (table.rows[i + r].cells[j + c]) {\n                table.rows[i + r].deleteCell(j + c);\n              }\n            }\n          }\n          // For rows below the first, delete starting from the target column\n          if (r > 0) {\n            for (let c = colspan - 1; c >= 0; c--) {\n              if (table.rows[i + r] && table.rows[i + r].cells[j]) {\n                table.rows[i + r].deleteCell(j);\n              }\n            }\n          }\n        }\n        // Set rowspan and colspan of the target cell\n        targetCell.rowSpan = rowspan;\n        targetCell.colSpan = colspan;\n      }\n\nwindow.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(0, 0, 'tinytable_css_am0ostdlf0s6ls4lcp7k') })\nwindow.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(0, 1, 'tinytable_css_am0ostdlf0s6ls4lcp7k') })\nwindow.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(0, 0, 'tinytable_css_ywc98hafc4ezsj623tey') })\nwindow.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(1, 0, 'tinytable_css_ywc98hafc4ezsj623tey') })\nwindow.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(2, 0, 'tinytable_css_ywc98hafc4ezsj623tey') })\nwindow.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(3, 0, 'tinytable_css_ywc98hafc4ezsj623tey') })\nwindow.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(4, 0, 'tinytable_css_ywc98hafc4ezsj623tey') })\nwindow.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(5, 0, 'tinytable_css_ywc98hafc4ezsj623tey') })\nwindow.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(6, 0, 'tinytable_css_ywc98hafc4ezsj623tey') })\nwindow.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(7, 0, 'tinytable_css_ywc98hafc4ezsj623tey') })\nwindow.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(8, 0, 'tinytable_css_ywc98hafc4ezsj623tey') })\nwindow.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(9, 0, 'tinytable_css_ywc98hafc4ezsj623tey') })\nwindow.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(10, 0, 'tinytable_css_ywc98hafc4ezsj623tey') })\nwindow.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(11, 0, 'tinytable_css_ywc98hafc4ezsj623tey') })\nwindow.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(12, 0, 'tinytable_css_ywc98hafc4ezsj623tey') })\nwindow.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(13, 0, 'tinytable_css_ywc98hafc4ezsj623tey') })\nwindow.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(14, 0, 'tinytable_css_ywc98hafc4ezsj623tey') })\nwindow.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(0, 1, 'tinytable_css_mtaygbiodkx993ayndyn') })\nwindow.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(1, 1, 'tinytable_css_mtaygbiodkx993ayndyn') })\nwindow.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(2, 1, 'tinytable_css_mtaygbiodkx993ayndyn') })\nwindow.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(3, 1, 'tinytable_css_mtaygbiodkx993ayndyn') })\nwindow.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(4, 1, 'tinytable_css_mtaygbiodkx993ayndyn') })\nwindow.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(5, 1, 'tinytable_css_mtaygbiodkx993ayndyn') })\nwindow.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(6, 1, 'tinytable_css_mtaygbiodkx993ayndyn') })\nwindow.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(7, 1, 'tinytable_css_mtaygbiodkx993ayndyn') })\nwindow.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(8, 1, 'tinytable_css_mtaygbiodkx993ayndyn') })\nwindow.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(9, 1, 'tinytable_css_mtaygbiodkx993ayndyn') })\nwindow.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(10, 1, 'tinytable_css_mtaygbiodkx993ayndyn') })\nwindow.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(11, 1, 'tinytable_css_mtaygbiodkx993ayndyn') })\nwindow.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(12, 1, 'tinytable_css_mtaygbiodkx993ayndyn') })\nwindow.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(13, 1, 'tinytable_css_mtaygbiodkx993ayndyn') })\nwindow.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(14, 1, 'tinytable_css_mtaygbiodkx993ayndyn') })\nwindow.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(6, 0, 'tinytable_css_vni95btyi4rygnrqw0e2') })\nwindow.addEventListener('load', function () { styleCell_tinytable_dpt0shfxvoh64krh6pdp(6, 1, 'tinytable_css_vni95btyi4rygnrqw0e2') })\n    </script>\n\n  </body>\n\n</html>\n```\n\n:::\n:::\n\n\n\nThe `Boston` data set contains 12 variables, and so it would be cumbersome to have to type all of these in order to perform a regression using all of the predictors.\nInstead, we can use the following short-hand:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlm_fit <- lm(medv ~ ., data = Boston)\nmsummary(lm_fit, estimate = \"std.error\", stars = TRUE)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<!DOCTYPE html> \n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>tinytable_rtim97tkxk9igoa2jdiv</title>\n    <style>\n.table td.tinytable_css_c2cyczt2801tfqjcx108, .table th.tinytable_css_c2cyczt2801tfqjcx108 {    border-bottom: solid 0.1em #d3d8dc; }\n.table td.tinytable_css_y0fz63c0hna7w5z9eywt, .table th.tinytable_css_y0fz63c0hna7w5z9eywt {    text-align: left; }\n.table td.tinytable_css_9j2yt2psdcc2hg7w8f0q, .table th.tinytable_css_9j2yt2psdcc2hg7w8f0q {    text-align: center; }\n.table td.tinytable_css_724m3cgxcd96obigdu1q, .table th.tinytable_css_724m3cgxcd96obigdu1q {    border-bottom: solid 0.05em black; }\n    </style>\n    <script src=\"https://polyfill.io/v3/polyfill.min.js?features=es6\"></script>\n    <script id=\"MathJax-script\" async src=\"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\"></script>\n    <script>\n    MathJax = {\n      tex: {\n        inlineMath: [['$', '$'], ['\\\\(', '\\\\)']]\n      },\n      svg: {\n        fontCache: 'global'\n      }\n    };\n    </script>\n  </head>\n\n  <body>\n    <div class=\"container\">\n      <table class=\"table table-borderless\" id=\"tinytable_rtim97tkxk9igoa2jdiv\" style=\"width: auto; margin-left: auto; margin-right: auto;\" data-quarto-disable-processing='true'>\n        <thead>\n        \n              <tr>\n                <th scope=\"col\"> </th>\n                <th scope=\"col\">(1)</th>\n              </tr>\n        </thead>\n        <tfoot><tr><td colspan='2'>+ p < 0.1, * p < 0.05, ** p < 0.01, *** p < 0.001</td></tr></tfoot>\n        <tbody>\n                <tr>\n                  <td>(Intercept)</td>\n                  <td>4.936*** </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(4.936)  </td>\n                </tr>\n                <tr>\n                  <td>crim       </td>\n                  <td>0.033*** </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(0.033)  </td>\n                </tr>\n                <tr>\n                  <td>zn         </td>\n                  <td>0.014*** </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(0.014)  </td>\n                </tr>\n                <tr>\n                  <td>indus      </td>\n                  <td>0.062    </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(0.062)  </td>\n                </tr>\n                <tr>\n                  <td>chas       </td>\n                  <td>0.870**  </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(0.870)  </td>\n                </tr>\n                <tr>\n                  <td>nox        </td>\n                  <td>3.851*** </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(3.851)  </td>\n                </tr>\n                <tr>\n                  <td>rm         </td>\n                  <td>0.420*** </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(0.420)  </td>\n                </tr>\n                <tr>\n                  <td>age        </td>\n                  <td>0.013    </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(0.013)  </td>\n                </tr>\n                <tr>\n                  <td>dis        </td>\n                  <td>0.202*** </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(0.202)  </td>\n                </tr>\n                <tr>\n                  <td>rad        </td>\n                  <td>0.067*** </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(0.067)  </td>\n                </tr>\n                <tr>\n                  <td>tax        </td>\n                  <td>0.004*** </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(0.004)  </td>\n                </tr>\n                <tr>\n                  <td>ptratio    </td>\n                  <td>0.132*** </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(0.132)  </td>\n                </tr>\n                <tr>\n                  <td>lstat      </td>\n                  <td>0.051*** </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(0.051)  </td>\n                </tr>\n                <tr>\n                  <td>Num.Obs.   </td>\n                  <td>506      </td>\n                </tr>\n                <tr>\n                  <td>R2         </td>\n                  <td>0.734    </td>\n                </tr>\n                <tr>\n                  <td>R2 Adj.    </td>\n                  <td>0.728    </td>\n                </tr>\n                <tr>\n                  <td>AIC        </td>\n                  <td>3037.8   </td>\n                </tr>\n                <tr>\n                  <td>BIC        </td>\n                  <td>3097.0   </td>\n                </tr>\n                <tr>\n                  <td>Log.Lik.   </td>\n                  <td>-1504.910</td>\n                </tr>\n                <tr>\n                  <td>F          </td>\n                  <td>113.544  </td>\n                </tr>\n                <tr>\n                  <td>RMSE       </td>\n                  <td>4.74     </td>\n                </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <script>\n      function styleCell_tinytable_bp2rnde2pi68rzsqlt1j(i, j, css_id) {\n        var table = document.getElementById(\"tinytable_rtim97tkxk9igoa2jdiv\");\n        table.rows[i].cells[j].classList.add(css_id);\n      }\n      function insertSpanRow(i, colspan, content) {\n        var table = document.getElementById('tinytable_rtim97tkxk9igoa2jdiv');\n        var newRow = table.insertRow(i);\n        var newCell = newRow.insertCell(0);\n        newCell.setAttribute(\"colspan\", colspan);\n        // newCell.innerText = content;\n        // this may be unsafe, but innerText does not interpret <br>\n        newCell.innerHTML = content;\n      }\n      function spanCell_tinytable_bp2rnde2pi68rzsqlt1j(i, j, rowspan, colspan) {\n        var table = document.getElementById(\"tinytable_rtim97tkxk9igoa2jdiv\");\n        const targetRow = table.rows[i];\n        const targetCell = targetRow.cells[j];\n        for (let r = 0; r < rowspan; r++) {\n          // Only start deleting cells to the right for the first row (r == 0)\n          if (r === 0) {\n            // Delete cells to the right of the target cell in the first row\n            for (let c = colspan - 1; c > 0; c--) {\n              if (table.rows[i + r].cells[j + c]) {\n                table.rows[i + r].deleteCell(j + c);\n              }\n            }\n          }\n          // For rows below the first, delete starting from the target column\n          if (r > 0) {\n            for (let c = colspan - 1; c >= 0; c--) {\n              if (table.rows[i + r] && table.rows[i + r].cells[j]) {\n                table.rows[i + r].deleteCell(j);\n              }\n            }\n          }\n        }\n        // Set rowspan and colspan of the target cell\n        targetCell.rowSpan = rowspan;\n        targetCell.colSpan = colspan;\n      }\n\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(0, 0, 'tinytable_css_c2cyczt2801tfqjcx108') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(0, 1, 'tinytable_css_c2cyczt2801tfqjcx108') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(0, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(1, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(2, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(3, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(4, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(5, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(6, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(7, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(8, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(9, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(10, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(11, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(12, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(13, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(14, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(15, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(16, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(17, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(18, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(19, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(20, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(21, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(22, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(23, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(24, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(25, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(26, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(27, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(28, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(29, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(30, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(31, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(32, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(33, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(34, 0, 'tinytable_css_y0fz63c0hna7w5z9eywt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(0, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(1, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(2, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(3, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(4, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(5, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(6, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(7, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(8, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(9, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(10, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(11, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(12, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(13, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(14, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(15, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(16, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(17, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(18, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(19, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(20, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(21, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(22, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(23, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(24, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(25, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(26, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(27, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(28, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(29, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(30, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(31, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(32, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(33, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(34, 1, 'tinytable_css_9j2yt2psdcc2hg7w8f0q') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(26, 0, 'tinytable_css_724m3cgxcd96obigdu1q') })\nwindow.addEventListener('load', function () { styleCell_tinytable_bp2rnde2pi68rzsqlt1j(26, 1, 'tinytable_css_724m3cgxcd96obigdu1q') })\n    </script>\n\n  </body>\n\n</html>\n```\n\n:::\n:::\n\n\n\nWe can access the individual components of a summary object by name. The `names()` function can be used to obtain the names of the components. The `summary()` function returns a list with components such as `call`, `terms`, `residuals`, `coefficients`, `aliased`, `sigma`, `df`, `r.squared`, `adj.r.squared`, `fstatistic`, `cov.unscaled`, `na.action`. The `vif()`\nfunction, part of the `car` package, can be used to compute variance\ninflation factors.  Most VIF's are\nlow to moderate for this data. The `car` package is not part of the base `R` installation so it must be downloaded the first time you use it via the `install.packages()` function in `R`.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(car)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nLoading required package: carData\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'car'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following object is masked from 'package:dplyr':\n\n    recode\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following object is masked from 'package:purrr':\n\n    some\n```\n\n\n:::\n:::\n\n\n\nWhat if we would like to perform a regression using all of the variables but one?  For example, in the above regression output,  `age` has a high $p$-value. So we may wish to run a regression excluding this predictor.\n The following syntax results in a regression using all predictors except `age`.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlm_fit1 <- lm(medv ~ . - age, data = Boston)\nmsummary(lm_fit1)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<!DOCTYPE html> \n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>tinytable_fh533nvskvlgyxfrijo2</title>\n    <style>\n.table td.tinytable_css_51d16fbxbjpz9erwpjg9, .table th.tinytable_css_51d16fbxbjpz9erwpjg9 {    border-bottom: solid 0.1em #d3d8dc; }\n.table td.tinytable_css_rh8se6kj3lx28ravhz7a, .table th.tinytable_css_rh8se6kj3lx28ravhz7a {    text-align: left; }\n.table td.tinytable_css_v5rsqce8luenkxz8ehw1, .table th.tinytable_css_v5rsqce8luenkxz8ehw1 {    text-align: center; }\n.table td.tinytable_css_uxbf24zmquormzu6vd8m, .table th.tinytable_css_uxbf24zmquormzu6vd8m {    border-bottom: solid 0.05em black; }\n    </style>\n    <script src=\"https://polyfill.io/v3/polyfill.min.js?features=es6\"></script>\n    <script id=\"MathJax-script\" async src=\"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\"></script>\n    <script>\n    MathJax = {\n      tex: {\n        inlineMath: [['$', '$'], ['\\\\(', '\\\\)']]\n      },\n      svg: {\n        fontCache: 'global'\n      }\n    };\n    </script>\n  </head>\n\n  <body>\n    <div class=\"container\">\n      <table class=\"table table-borderless\" id=\"tinytable_fh533nvskvlgyxfrijo2\" style=\"width: auto; margin-left: auto; margin-right: auto;\" data-quarto-disable-processing='true'>\n        <thead>\n        \n              <tr>\n                <th scope=\"col\"> </th>\n                <th scope=\"col\">(1)</th>\n              </tr>\n        </thead>\n        \n        <tbody>\n                <tr>\n                  <td>(Intercept)</td>\n                  <td>41.525   </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(4.920)  </td>\n                </tr>\n                <tr>\n                  <td>crim       </td>\n                  <td>-0.121   </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(0.033)  </td>\n                </tr>\n                <tr>\n                  <td>zn         </td>\n                  <td>0.047    </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(0.014)  </td>\n                </tr>\n                <tr>\n                  <td>indus      </td>\n                  <td>0.013    </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(0.062)  </td>\n                </tr>\n                <tr>\n                  <td>chas       </td>\n                  <td>2.853    </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(0.868)  </td>\n                </tr>\n                <tr>\n                  <td>nox        </td>\n                  <td>-18.485  </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(3.714)  </td>\n                </tr>\n                <tr>\n                  <td>rm         </td>\n                  <td>3.681    </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(0.411)  </td>\n                </tr>\n                <tr>\n                  <td>dis        </td>\n                  <td>-1.507   </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(0.193)  </td>\n                </tr>\n                <tr>\n                  <td>rad        </td>\n                  <td>0.288    </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(0.067)  </td>\n                </tr>\n                <tr>\n                  <td>tax        </td>\n                  <td>-0.013   </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(0.004)  </td>\n                </tr>\n                <tr>\n                  <td>ptratio    </td>\n                  <td>-0.935   </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(0.132)  </td>\n                </tr>\n                <tr>\n                  <td>lstat      </td>\n                  <td>-0.547   </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(0.048)  </td>\n                </tr>\n                <tr>\n                  <td>Num.Obs.   </td>\n                  <td>506      </td>\n                </tr>\n                <tr>\n                  <td>R2         </td>\n                  <td>0.734    </td>\n                </tr>\n                <tr>\n                  <td>R2 Adj.    </td>\n                  <td>0.728    </td>\n                </tr>\n                <tr>\n                  <td>AIC        </td>\n                  <td>3035.9   </td>\n                </tr>\n                <tr>\n                  <td>BIC        </td>\n                  <td>3090.8   </td>\n                </tr>\n                <tr>\n                  <td>Log.Lik.   </td>\n                  <td>-1504.948</td>\n                </tr>\n                <tr>\n                  <td>F          </td>\n                  <td>124.092  </td>\n                </tr>\n                <tr>\n                  <td>RMSE       </td>\n                  <td>4.74     </td>\n                </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <script>\n      function styleCell_tinytable_3204nmij5yt2uly64zqu(i, j, css_id) {\n        var table = document.getElementById(\"tinytable_fh533nvskvlgyxfrijo2\");\n        table.rows[i].cells[j].classList.add(css_id);\n      }\n      function insertSpanRow(i, colspan, content) {\n        var table = document.getElementById('tinytable_fh533nvskvlgyxfrijo2');\n        var newRow = table.insertRow(i);\n        var newCell = newRow.insertCell(0);\n        newCell.setAttribute(\"colspan\", colspan);\n        // newCell.innerText = content;\n        // this may be unsafe, but innerText does not interpret <br>\n        newCell.innerHTML = content;\n      }\n      function spanCell_tinytable_3204nmij5yt2uly64zqu(i, j, rowspan, colspan) {\n        var table = document.getElementById(\"tinytable_fh533nvskvlgyxfrijo2\");\n        const targetRow = table.rows[i];\n        const targetCell = targetRow.cells[j];\n        for (let r = 0; r < rowspan; r++) {\n          // Only start deleting cells to the right for the first row (r == 0)\n          if (r === 0) {\n            // Delete cells to the right of the target cell in the first row\n            for (let c = colspan - 1; c > 0; c--) {\n              if (table.rows[i + r].cells[j + c]) {\n                table.rows[i + r].deleteCell(j + c);\n              }\n            }\n          }\n          // For rows below the first, delete starting from the target column\n          if (r > 0) {\n            for (let c = colspan - 1; c >= 0; c--) {\n              if (table.rows[i + r] && table.rows[i + r].cells[j]) {\n                table.rows[i + r].deleteCell(j);\n              }\n            }\n          }\n        }\n        // Set rowspan and colspan of the target cell\n        targetCell.rowSpan = rowspan;\n        targetCell.colSpan = colspan;\n      }\n\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(0, 0, 'tinytable_css_51d16fbxbjpz9erwpjg9') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(0, 1, 'tinytable_css_51d16fbxbjpz9erwpjg9') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(0, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(1, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(2, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(3, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(4, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(5, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(6, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(7, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(8, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(9, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(10, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(11, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(12, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(13, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(14, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(15, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(16, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(17, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(18, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(19, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(20, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(21, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(22, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(23, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(24, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(25, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(26, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(27, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(28, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(29, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(30, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(31, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(32, 0, 'tinytable_css_rh8se6kj3lx28ravhz7a') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(0, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(1, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(2, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(3, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(4, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(5, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(6, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(7, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(8, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(9, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(10, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(11, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(12, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(13, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(14, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(15, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(16, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(17, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(18, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(19, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(20, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(21, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(22, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(23, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(24, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(25, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(26, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(27, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(28, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(29, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(30, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(31, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(32, 1, 'tinytable_css_v5rsqce8luenkxz8ehw1') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(24, 0, 'tinytable_css_uxbf24zmquormzu6vd8m') })\nwindow.addEventListener('load', function () { styleCell_tinytable_3204nmij5yt2uly64zqu(24, 1, 'tinytable_css_uxbf24zmquormzu6vd8m') })\n    </script>\n\n  </body>\n\n</html>\n```\n\n:::\n:::\n\n\n\nAlternatively, the `update()` function can be used.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlm_fit1 <- update(lm_fit, ~ . - age)\n```\n:::\n\n\n\n\n## Interaction Terms\n\nIt is easy to include interaction terms in a linear model using the `lm()` function. The syntax `lstat:age` tells `R` to include an interaction term between `lstat` and `age`.\nThe syntax `lstat * age` simultaneously includes `lstat`, `age`, and the interaction term `lstat`$\\times$`age` as predictors; it is a shorthand for `lstat + age + lstat:age`.\n  %We can also pass in transformed versions of the predictors.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmsummary(lm(medv ~ lstat * age, data = Boston), estimate = \"std.error\", stars = TRUE)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<!DOCTYPE html> \n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>tinytable_9mhvxbwi0wbwi0kjtzmk</title>\n    <style>\n.table td.tinytable_css_c7yaacnc2ndp0visfpks, .table th.tinytable_css_c7yaacnc2ndp0visfpks {    border-bottom: solid 0.1em #d3d8dc; }\n.table td.tinytable_css_xm3rvcufrbbpzbh9pr5r, .table th.tinytable_css_xm3rvcufrbbpzbh9pr5r {    text-align: left; }\n.table td.tinytable_css_kn1lef89u2z17ykqfsa7, .table th.tinytable_css_kn1lef89u2z17ykqfsa7 {    text-align: center; }\n.table td.tinytable_css_ggdlzch02pkllicya61e, .table th.tinytable_css_ggdlzch02pkllicya61e {    border-bottom: solid 0.05em black; }\n    </style>\n    <script src=\"https://polyfill.io/v3/polyfill.min.js?features=es6\"></script>\n    <script id=\"MathJax-script\" async src=\"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\"></script>\n    <script>\n    MathJax = {\n      tex: {\n        inlineMath: [['$', '$'], ['\\\\(', '\\\\)']]\n      },\n      svg: {\n        fontCache: 'global'\n      }\n    };\n    </script>\n  </head>\n\n  <body>\n    <div class=\"container\">\n      <table class=\"table table-borderless\" id=\"tinytable_9mhvxbwi0wbwi0kjtzmk\" style=\"width: auto; margin-left: auto; margin-right: auto;\" data-quarto-disable-processing='true'>\n        <thead>\n        \n              <tr>\n                <th scope=\"col\"> </th>\n                <th scope=\"col\">(1)</th>\n              </tr>\n        </thead>\n        <tfoot><tr><td colspan='2'>+ p < 0.1, * p < 0.05, ** p < 0.01, *** p < 0.001</td></tr></tfoot>\n        <tbody>\n                <tr>\n                  <td>(Intercept)</td>\n                  <td>1.470*** </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(1.470)  </td>\n                </tr>\n                <tr>\n                  <td>lstat      </td>\n                  <td>0.167*** </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(0.167)  </td>\n                </tr>\n                <tr>\n                  <td>age        </td>\n                  <td>0.020    </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(0.020)  </td>\n                </tr>\n                <tr>\n                  <td>lstat × age</td>\n                  <td>0.002*   </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(0.002)  </td>\n                </tr>\n                <tr>\n                  <td>Num.Obs.   </td>\n                  <td>506      </td>\n                </tr>\n                <tr>\n                  <td>R2         </td>\n                  <td>0.556    </td>\n                </tr>\n                <tr>\n                  <td>R2 Adj.    </td>\n                  <td>0.553    </td>\n                </tr>\n                <tr>\n                  <td>AIC        </td>\n                  <td>3280.0   </td>\n                </tr>\n                <tr>\n                  <td>BIC        </td>\n                  <td>3301.1   </td>\n                </tr>\n                <tr>\n                  <td>Log.Lik.   </td>\n                  <td>-1634.977</td>\n                </tr>\n                <tr>\n                  <td>F          </td>\n                  <td>209.312  </td>\n                </tr>\n                <tr>\n                  <td>RMSE       </td>\n                  <td>6.12     </td>\n                </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <script>\n      function styleCell_tinytable_32camtwkxc1lb128xw07(i, j, css_id) {\n        var table = document.getElementById(\"tinytable_9mhvxbwi0wbwi0kjtzmk\");\n        table.rows[i].cells[j].classList.add(css_id);\n      }\n      function insertSpanRow(i, colspan, content) {\n        var table = document.getElementById('tinytable_9mhvxbwi0wbwi0kjtzmk');\n        var newRow = table.insertRow(i);\n        var newCell = newRow.insertCell(0);\n        newCell.setAttribute(\"colspan\", colspan);\n        // newCell.innerText = content;\n        // this may be unsafe, but innerText does not interpret <br>\n        newCell.innerHTML = content;\n      }\n      function spanCell_tinytable_32camtwkxc1lb128xw07(i, j, rowspan, colspan) {\n        var table = document.getElementById(\"tinytable_9mhvxbwi0wbwi0kjtzmk\");\n        const targetRow = table.rows[i];\n        const targetCell = targetRow.cells[j];\n        for (let r = 0; r < rowspan; r++) {\n          // Only start deleting cells to the right for the first row (r == 0)\n          if (r === 0) {\n            // Delete cells to the right of the target cell in the first row\n            for (let c = colspan - 1; c > 0; c--) {\n              if (table.rows[i + r].cells[j + c]) {\n                table.rows[i + r].deleteCell(j + c);\n              }\n            }\n          }\n          // For rows below the first, delete starting from the target column\n          if (r > 0) {\n            for (let c = colspan - 1; c >= 0; c--) {\n              if (table.rows[i + r] && table.rows[i + r].cells[j]) {\n                table.rows[i + r].deleteCell(j);\n              }\n            }\n          }\n        }\n        // Set rowspan and colspan of the target cell\n        targetCell.rowSpan = rowspan;\n        targetCell.colSpan = colspan;\n      }\n\nwindow.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(0, 0, 'tinytable_css_c7yaacnc2ndp0visfpks') })\nwindow.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(0, 1, 'tinytable_css_c7yaacnc2ndp0visfpks') })\nwindow.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(0, 0, 'tinytable_css_xm3rvcufrbbpzbh9pr5r') })\nwindow.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(1, 0, 'tinytable_css_xm3rvcufrbbpzbh9pr5r') })\nwindow.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(2, 0, 'tinytable_css_xm3rvcufrbbpzbh9pr5r') })\nwindow.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(3, 0, 'tinytable_css_xm3rvcufrbbpzbh9pr5r') })\nwindow.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(4, 0, 'tinytable_css_xm3rvcufrbbpzbh9pr5r') })\nwindow.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(5, 0, 'tinytable_css_xm3rvcufrbbpzbh9pr5r') })\nwindow.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(6, 0, 'tinytable_css_xm3rvcufrbbpzbh9pr5r') })\nwindow.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(7, 0, 'tinytable_css_xm3rvcufrbbpzbh9pr5r') })\nwindow.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(8, 0, 'tinytable_css_xm3rvcufrbbpzbh9pr5r') })\nwindow.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(9, 0, 'tinytable_css_xm3rvcufrbbpzbh9pr5r') })\nwindow.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(10, 0, 'tinytable_css_xm3rvcufrbbpzbh9pr5r') })\nwindow.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(11, 0, 'tinytable_css_xm3rvcufrbbpzbh9pr5r') })\nwindow.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(12, 0, 'tinytable_css_xm3rvcufrbbpzbh9pr5r') })\nwindow.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(13, 0, 'tinytable_css_xm3rvcufrbbpzbh9pr5r') })\nwindow.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(14, 0, 'tinytable_css_xm3rvcufrbbpzbh9pr5r') })\nwindow.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(15, 0, 'tinytable_css_xm3rvcufrbbpzbh9pr5r') })\nwindow.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(16, 0, 'tinytable_css_xm3rvcufrbbpzbh9pr5r') })\nwindow.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(0, 1, 'tinytable_css_kn1lef89u2z17ykqfsa7') })\nwindow.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(1, 1, 'tinytable_css_kn1lef89u2z17ykqfsa7') })\nwindow.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(2, 1, 'tinytable_css_kn1lef89u2z17ykqfsa7') })\nwindow.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(3, 1, 'tinytable_css_kn1lef89u2z17ykqfsa7') })\nwindow.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(4, 1, 'tinytable_css_kn1lef89u2z17ykqfsa7') })\nwindow.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(5, 1, 'tinytable_css_kn1lef89u2z17ykqfsa7') })\nwindow.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(6, 1, 'tinytable_css_kn1lef89u2z17ykqfsa7') })\nwindow.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(7, 1, 'tinytable_css_kn1lef89u2z17ykqfsa7') })\nwindow.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(8, 1, 'tinytable_css_kn1lef89u2z17ykqfsa7') })\nwindow.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(9, 1, 'tinytable_css_kn1lef89u2z17ykqfsa7') })\nwindow.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(10, 1, 'tinytable_css_kn1lef89u2z17ykqfsa7') })\nwindow.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(11, 1, 'tinytable_css_kn1lef89u2z17ykqfsa7') })\nwindow.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(12, 1, 'tinytable_css_kn1lef89u2z17ykqfsa7') })\nwindow.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(13, 1, 'tinytable_css_kn1lef89u2z17ykqfsa7') })\nwindow.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(14, 1, 'tinytable_css_kn1lef89u2z17ykqfsa7') })\nwindow.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(15, 1, 'tinytable_css_kn1lef89u2z17ykqfsa7') })\nwindow.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(16, 1, 'tinytable_css_kn1lef89u2z17ykqfsa7') })\nwindow.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(8, 0, 'tinytable_css_ggdlzch02pkllicya61e') })\nwindow.addEventListener('load', function () { styleCell_tinytable_32camtwkxc1lb128xw07(8, 1, 'tinytable_css_ggdlzch02pkllicya61e') })\n    </script>\n\n  </body>\n\n</html>\n```\n\n:::\n:::\n\n\n\n\n## Non-linear Transformations of the Predictors\n\nThe `lm()` function can also accommodate non-linear transformations of the predictors. For instance, given a predictor $X$, we can create a predictor $X^2$ using\n `I(X^2)`. The function `I()` is needed since the `^` has a special meaning in a formula object; wrapping as we do allows the standard usage in `R`, which is to raise `X` to the power `2`. We now\nperform a regression of `medv` onto `lstat` and `lstat^2`.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlm_fit2 <- lm(medv ~ lstat + I(lstat^2))\nmsummary(lm_fit2, estimate = \"std.error\", stars = TRUE)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<!DOCTYPE html> \n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>tinytable_td1tu8wa9ttv779t6uut</title>\n    <style>\n.table td.tinytable_css_kgqu49pvjf32vn73gdcu, .table th.tinytable_css_kgqu49pvjf32vn73gdcu {    border-bottom: solid 0.1em #d3d8dc; }\n.table td.tinytable_css_e5x23nblrobf623wgdwm, .table th.tinytable_css_e5x23nblrobf623wgdwm {    text-align: left; }\n.table td.tinytable_css_j5x80n7veensg0uf5ngq, .table th.tinytable_css_j5x80n7veensg0uf5ngq {    text-align: center; }\n.table td.tinytable_css_5r9w5djx3bzrryrlrv6i, .table th.tinytable_css_5r9w5djx3bzrryrlrv6i {    border-bottom: solid 0.05em black; }\n    </style>\n    <script src=\"https://polyfill.io/v3/polyfill.min.js?features=es6\"></script>\n    <script id=\"MathJax-script\" async src=\"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\"></script>\n    <script>\n    MathJax = {\n      tex: {\n        inlineMath: [['$', '$'], ['\\\\(', '\\\\)']]\n      },\n      svg: {\n        fontCache: 'global'\n      }\n    };\n    </script>\n  </head>\n\n  <body>\n    <div class=\"container\">\n      <table class=\"table table-borderless\" id=\"tinytable_td1tu8wa9ttv779t6uut\" style=\"width: auto; margin-left: auto; margin-right: auto;\" data-quarto-disable-processing='true'>\n        <thead>\n        \n              <tr>\n                <th scope=\"col\"> </th>\n                <th scope=\"col\">(1)</th>\n              </tr>\n        </thead>\n        <tfoot><tr><td colspan='2'>+ p < 0.1, * p < 0.05, ** p < 0.01, *** p < 0.001</td></tr></tfoot>\n        <tbody>\n                <tr>\n                  <td>(Intercept)</td>\n                  <td>0.872*** </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(0.872)  </td>\n                </tr>\n                <tr>\n                  <td>lstat      </td>\n                  <td>0.124*** </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(0.124)  </td>\n                </tr>\n                <tr>\n                  <td>I(lstat^2) </td>\n                  <td>0.004*** </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(0.004)  </td>\n                </tr>\n                <tr>\n                  <td>Num.Obs.   </td>\n                  <td>506      </td>\n                </tr>\n                <tr>\n                  <td>R2         </td>\n                  <td>0.641    </td>\n                </tr>\n                <tr>\n                  <td>R2 Adj.    </td>\n                  <td>0.639    </td>\n                </tr>\n                <tr>\n                  <td>AIC        </td>\n                  <td>3170.5   </td>\n                </tr>\n                <tr>\n                  <td>BIC        </td>\n                  <td>3187.4   </td>\n                </tr>\n                <tr>\n                  <td>Log.Lik.   </td>\n                  <td>-1581.258</td>\n                </tr>\n                <tr>\n                  <td>F          </td>\n                  <td>448.505  </td>\n                </tr>\n                <tr>\n                  <td>RMSE       </td>\n                  <td>5.51     </td>\n                </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <script>\n      function styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(i, j, css_id) {\n        var table = document.getElementById(\"tinytable_td1tu8wa9ttv779t6uut\");\n        table.rows[i].cells[j].classList.add(css_id);\n      }\n      function insertSpanRow(i, colspan, content) {\n        var table = document.getElementById('tinytable_td1tu8wa9ttv779t6uut');\n        var newRow = table.insertRow(i);\n        var newCell = newRow.insertCell(0);\n        newCell.setAttribute(\"colspan\", colspan);\n        // newCell.innerText = content;\n        // this may be unsafe, but innerText does not interpret <br>\n        newCell.innerHTML = content;\n      }\n      function spanCell_tinytable_hx5bxsrksbxuxbrbx1hf(i, j, rowspan, colspan) {\n        var table = document.getElementById(\"tinytable_td1tu8wa9ttv779t6uut\");\n        const targetRow = table.rows[i];\n        const targetCell = targetRow.cells[j];\n        for (let r = 0; r < rowspan; r++) {\n          // Only start deleting cells to the right for the first row (r == 0)\n          if (r === 0) {\n            // Delete cells to the right of the target cell in the first row\n            for (let c = colspan - 1; c > 0; c--) {\n              if (table.rows[i + r].cells[j + c]) {\n                table.rows[i + r].deleteCell(j + c);\n              }\n            }\n          }\n          // For rows below the first, delete starting from the target column\n          if (r > 0) {\n            for (let c = colspan - 1; c >= 0; c--) {\n              if (table.rows[i + r] && table.rows[i + r].cells[j]) {\n                table.rows[i + r].deleteCell(j);\n              }\n            }\n          }\n        }\n        // Set rowspan and colspan of the target cell\n        targetCell.rowSpan = rowspan;\n        targetCell.colSpan = colspan;\n      }\n\nwindow.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(0, 0, 'tinytable_css_kgqu49pvjf32vn73gdcu') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(0, 1, 'tinytable_css_kgqu49pvjf32vn73gdcu') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(0, 0, 'tinytable_css_e5x23nblrobf623wgdwm') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(1, 0, 'tinytable_css_e5x23nblrobf623wgdwm') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(2, 0, 'tinytable_css_e5x23nblrobf623wgdwm') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(3, 0, 'tinytable_css_e5x23nblrobf623wgdwm') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(4, 0, 'tinytable_css_e5x23nblrobf623wgdwm') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(5, 0, 'tinytable_css_e5x23nblrobf623wgdwm') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(6, 0, 'tinytable_css_e5x23nblrobf623wgdwm') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(7, 0, 'tinytable_css_e5x23nblrobf623wgdwm') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(8, 0, 'tinytable_css_e5x23nblrobf623wgdwm') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(9, 0, 'tinytable_css_e5x23nblrobf623wgdwm') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(10, 0, 'tinytable_css_e5x23nblrobf623wgdwm') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(11, 0, 'tinytable_css_e5x23nblrobf623wgdwm') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(12, 0, 'tinytable_css_e5x23nblrobf623wgdwm') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(13, 0, 'tinytable_css_e5x23nblrobf623wgdwm') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(14, 0, 'tinytable_css_e5x23nblrobf623wgdwm') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(0, 1, 'tinytable_css_j5x80n7veensg0uf5ngq') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(1, 1, 'tinytable_css_j5x80n7veensg0uf5ngq') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(2, 1, 'tinytable_css_j5x80n7veensg0uf5ngq') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(3, 1, 'tinytable_css_j5x80n7veensg0uf5ngq') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(4, 1, 'tinytable_css_j5x80n7veensg0uf5ngq') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(5, 1, 'tinytable_css_j5x80n7veensg0uf5ngq') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(6, 1, 'tinytable_css_j5x80n7veensg0uf5ngq') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(7, 1, 'tinytable_css_j5x80n7veensg0uf5ngq') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(8, 1, 'tinytable_css_j5x80n7veensg0uf5ngq') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(9, 1, 'tinytable_css_j5x80n7veensg0uf5ngq') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(10, 1, 'tinytable_css_j5x80n7veensg0uf5ngq') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(11, 1, 'tinytable_css_j5x80n7veensg0uf5ngq') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(12, 1, 'tinytable_css_j5x80n7veensg0uf5ngq') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(13, 1, 'tinytable_css_j5x80n7veensg0uf5ngq') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(14, 1, 'tinytable_css_j5x80n7veensg0uf5ngq') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(6, 0, 'tinytable_css_5r9w5djx3bzrryrlrv6i') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hx5bxsrksbxuxbrbx1hf(6, 1, 'tinytable_css_5r9w5djx3bzrryrlrv6i') })\n    </script>\n\n  </body>\n\n</html>\n```\n\n:::\n:::\n\n\n\nThe near-zero $p$-value associated with the quadratic term suggests that it leads to an improved model.\nWe use the `anova()` function  to further quantify the extent to which the quadratic fit is superior to the linear fit.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(lm(medv ~ ., data = Boston))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nCall:\nlm(formula = medv ~ ., data = Boston)\n\nResiduals:\n     Min       1Q   Median       3Q      Max \n-15.1304  -2.7673  -0.5814   1.9414  26.2526 \n\nCoefficients:\n              Estimate Std. Error t value Pr(>|t|)    \n(Intercept)  41.617270   4.936039   8.431 3.79e-16 ***\ncrim         -0.121389   0.033000  -3.678 0.000261 ***\nzn            0.046963   0.013879   3.384 0.000772 ***\nindus         0.013468   0.062145   0.217 0.828520    \nchas          2.839993   0.870007   3.264 0.001173 ** \nnox         -18.758022   3.851355  -4.870 1.50e-06 ***\nrm            3.658119   0.420246   8.705  < 2e-16 ***\nage           0.003611   0.013329   0.271 0.786595    \ndis          -1.490754   0.201623  -7.394 6.17e-13 ***\nrad           0.289405   0.066908   4.325 1.84e-05 ***\ntax          -0.012682   0.003801  -3.337 0.000912 ***\nptratio      -0.937533   0.132206  -7.091 4.63e-12 ***\nlstat        -0.552019   0.050659 -10.897  < 2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 4.798 on 493 degrees of freedom\nMultiple R-squared:  0.7343,\tAdjusted R-squared:  0.7278 \nF-statistic: 113.5 on 12 and 493 DF,  p-value: < 2.2e-16\n```\n\n\n:::\n\n```{.r .cell-code}\nanova(lm_fit, lm_fit2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nAnalysis of Variance Table\n\nModel 1: medv ~ crim + zn + indus + chas + nox + rm + age + dis + rad + \n    tax + ptratio + lstat\nModel 2: medv ~ lstat + I(lstat^2)\n  Res.Df   RSS  Df Sum of Sq      F    Pr(>F)    \n1    493 11349                                   \n2    503 15347 -10   -3997.8 17.366 < 2.2e-16 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n```\n\n\n:::\n:::\n\n\n\nHere Model 1 represents the linear submodel containing only one predictor, `lstat`\n$$ medv_i = \\beta_0 + \\beta_1 \\times lstat_i + \\epsilon_i, $$\n\nwhile Model 2 corresponds to the larger quadratic model that has two predictors, `lstat` and `lstat^2`\n\n$$ medv_i = \\beta_0 + \\beta_1 \\times lstat_i + \\beta_2 \\times lstat_i^2 + \\epsilon_i, $$\n\n\nThe `anova()` function performs a hypothesis test\ncomparing the two models. The   null hypothesis is that the two models fit the data equally well,  and the alternative hypothesis is that the full model is superior. Here the $F$-statistic is $135$\n and the associated $p$-value is virtually zero. This provides very clear evidence that the model containing the predictors `lstat` and `lstat^2` is far superior to the model that only contains the predictor `lstat`.\n This is not surprising, since earlier we saw evidence for non-linearity in the relationship between `medv` and `lstat`. Diagnostic plots can be used to further investigate the quality of the model fit using residuals.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npar(mfrow = c(2, 2))\nplot(lm_fit2)\n```\n\n::: {.cell-output-display}\n![](ch03_files/figure-html/chunk24-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\npar(mfrow = c(2, 2))\n# Base R diagnostic plots\nplot(lm_fit2)\n```\n\n::: {.cell-output-display}\n![](ch03_files/figure-html/diagnostic-1.png){width=672}\n:::\n\n```{.r .cell-code}\n# Enhanced diagnostic plots using the `car` package\nlibrary(car)\nresidualPlots(lm_fit2)\n```\n\n::: {.cell-output-display}\n![](ch03_files/figure-html/diagnostic-2.png){width=672}\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n           Test stat Pr(>|Test stat|)    \nlstat        -0.7542           0.4511    \nI(lstat^2)   -4.3276        1.820e-05 ***\nTukey test    6.1962        5.783e-10 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n```\n\n\n:::\n\n```{.r .cell-code}\nqqPlot(lm_fit2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 372 373\n```\n\n\n:::\n\n```{.r .cell-code}\nspreadLevelPlot(lm_fit2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nSuggested power transformation:  0.01056432 \n```\n\n\n:::\n\n```{.r .cell-code}\ninfluencePlot(lm_fit2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n       StudRes         Hat      CookD\n215  2.1564869 0.020322879 0.03192524\n372  4.7026322 0.002557843 0.01814214\n373  4.5109537 0.002598989 0.01701993\n375 -0.6268209 0.110612307 0.01630807\n415 -1.7417833 0.092762866 0.10298355\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](ch03_files/figure-html/diagnostic-3.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(olsrr)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'olsrr'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following object is masked from 'package:MASS':\n\n    cement\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following object is masked from 'package:datasets':\n\n    rivers\n```\n\n\n:::\n\n```{.r .cell-code}\nols_plot_resid_fit(lm_fit2)\n```\n\n::: {.cell-output-display}\n![](ch03_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(olsrr)\nols_plot_resid_hist(lm_fit2)\n```\n\n::: {.cell-output-display}\n![](ch03_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(olsrr)\nols_plot_resid_qq(lm_fit2)\n```\n\n::: {.cell-output-display}\n![](ch03_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nols_test_correlation(lm_fit2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.9667391\n```\n\n\n:::\n:::\n\n\n\n\n then we see that when the `lstat^2` term is included in the model, there is little discernible pattern in the residuals.\n\nIn order to create a cubic fit, we can include a predictor of the form `I(X^3)`. However, this approach can start to get cumbersome for higher-order polynomials. A better approach involves using the `poly()` function to create the polynomial within `lm()`. For example, the following command produces a\nfifth-order polynomial fit:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlm_fit5 <- lm(medv ~ poly(lstat, 5))\nmsummary(lm_fit5)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<!DOCTYPE html> \n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>tinytable_mf6mlew1ej1u2njfi0bx</title>\n    <style>\n.table td.tinytable_css_e5jg0tm46ywltaj5cx9u, .table th.tinytable_css_e5jg0tm46ywltaj5cx9u {    border-bottom: solid 0.1em #d3d8dc; }\n.table td.tinytable_css_laml9orov7k0croh47kv, .table th.tinytable_css_laml9orov7k0croh47kv {    text-align: left; }\n.table td.tinytable_css_vpp780r31pl51msp4t3f, .table th.tinytable_css_vpp780r31pl51msp4t3f {    text-align: center; }\n.table td.tinytable_css_j0u2bx8wvakwl53osj38, .table th.tinytable_css_j0u2bx8wvakwl53osj38 {    border-bottom: solid 0.05em black; }\n    </style>\n    <script src=\"https://polyfill.io/v3/polyfill.min.js?features=es6\"></script>\n    <script id=\"MathJax-script\" async src=\"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\"></script>\n    <script>\n    MathJax = {\n      tex: {\n        inlineMath: [['$', '$'], ['\\\\(', '\\\\)']]\n      },\n      svg: {\n        fontCache: 'global'\n      }\n    };\n    </script>\n  </head>\n\n  <body>\n    <div class=\"container\">\n      <table class=\"table table-borderless\" id=\"tinytable_mf6mlew1ej1u2njfi0bx\" style=\"width: auto; margin-left: auto; margin-right: auto;\" data-quarto-disable-processing='true'>\n        <thead>\n        \n              <tr>\n                <th scope=\"col\"> </th>\n                <th scope=\"col\">(1)</th>\n              </tr>\n        </thead>\n        \n        <tbody>\n                <tr>\n                  <td>(Intercept)    </td>\n                  <td>22.533   </td>\n                </tr>\n                <tr>\n                  <td>               </td>\n                  <td>(0.232)  </td>\n                </tr>\n                <tr>\n                  <td>poly(lstat, 5)1</td>\n                  <td>-152.460 </td>\n                </tr>\n                <tr>\n                  <td>               </td>\n                  <td>(5.215)  </td>\n                </tr>\n                <tr>\n                  <td>poly(lstat, 5)2</td>\n                  <td>64.227   </td>\n                </tr>\n                <tr>\n                  <td>               </td>\n                  <td>(5.215)  </td>\n                </tr>\n                <tr>\n                  <td>poly(lstat, 5)3</td>\n                  <td>-27.051  </td>\n                </tr>\n                <tr>\n                  <td>               </td>\n                  <td>(5.215)  </td>\n                </tr>\n                <tr>\n                  <td>poly(lstat, 5)4</td>\n                  <td>25.452   </td>\n                </tr>\n                <tr>\n                  <td>               </td>\n                  <td>(5.215)  </td>\n                </tr>\n                <tr>\n                  <td>poly(lstat, 5)5</td>\n                  <td>-19.252  </td>\n                </tr>\n                <tr>\n                  <td>               </td>\n                  <td>(5.215)  </td>\n                </tr>\n                <tr>\n                  <td>Num.Obs.       </td>\n                  <td>506      </td>\n                </tr>\n                <tr>\n                  <td>R2             </td>\n                  <td>0.682    </td>\n                </tr>\n                <tr>\n                  <td>R2 Adj.        </td>\n                  <td>0.679    </td>\n                </tr>\n                <tr>\n                  <td>AIC            </td>\n                  <td>3115.2   </td>\n                </tr>\n                <tr>\n                  <td>BIC            </td>\n                  <td>3144.8   </td>\n                </tr>\n                <tr>\n                  <td>Log.Lik.       </td>\n                  <td>-1550.624</td>\n                </tr>\n                <tr>\n                  <td>F              </td>\n                  <td>214.159  </td>\n                </tr>\n                <tr>\n                  <td>RMSE           </td>\n                  <td>5.18     </td>\n                </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <script>\n      function styleCell_tinytable_mfry9digwkzf1y06rn99(i, j, css_id) {\n        var table = document.getElementById(\"tinytable_mf6mlew1ej1u2njfi0bx\");\n        table.rows[i].cells[j].classList.add(css_id);\n      }\n      function insertSpanRow(i, colspan, content) {\n        var table = document.getElementById('tinytable_mf6mlew1ej1u2njfi0bx');\n        var newRow = table.insertRow(i);\n        var newCell = newRow.insertCell(0);\n        newCell.setAttribute(\"colspan\", colspan);\n        // newCell.innerText = content;\n        // this may be unsafe, but innerText does not interpret <br>\n        newCell.innerHTML = content;\n      }\n      function spanCell_tinytable_mfry9digwkzf1y06rn99(i, j, rowspan, colspan) {\n        var table = document.getElementById(\"tinytable_mf6mlew1ej1u2njfi0bx\");\n        const targetRow = table.rows[i];\n        const targetCell = targetRow.cells[j];\n        for (let r = 0; r < rowspan; r++) {\n          // Only start deleting cells to the right for the first row (r == 0)\n          if (r === 0) {\n            // Delete cells to the right of the target cell in the first row\n            for (let c = colspan - 1; c > 0; c--) {\n              if (table.rows[i + r].cells[j + c]) {\n                table.rows[i + r].deleteCell(j + c);\n              }\n            }\n          }\n          // For rows below the first, delete starting from the target column\n          if (r > 0) {\n            for (let c = colspan - 1; c >= 0; c--) {\n              if (table.rows[i + r] && table.rows[i + r].cells[j]) {\n                table.rows[i + r].deleteCell(j);\n              }\n            }\n          }\n        }\n        // Set rowspan and colspan of the target cell\n        targetCell.rowSpan = rowspan;\n        targetCell.colSpan = colspan;\n      }\n\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(0, 0, 'tinytable_css_e5jg0tm46ywltaj5cx9u') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(0, 1, 'tinytable_css_e5jg0tm46ywltaj5cx9u') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(0, 0, 'tinytable_css_laml9orov7k0croh47kv') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(1, 0, 'tinytable_css_laml9orov7k0croh47kv') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(2, 0, 'tinytable_css_laml9orov7k0croh47kv') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(3, 0, 'tinytable_css_laml9orov7k0croh47kv') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(4, 0, 'tinytable_css_laml9orov7k0croh47kv') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(5, 0, 'tinytable_css_laml9orov7k0croh47kv') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(6, 0, 'tinytable_css_laml9orov7k0croh47kv') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(7, 0, 'tinytable_css_laml9orov7k0croh47kv') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(8, 0, 'tinytable_css_laml9orov7k0croh47kv') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(9, 0, 'tinytable_css_laml9orov7k0croh47kv') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(10, 0, 'tinytable_css_laml9orov7k0croh47kv') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(11, 0, 'tinytable_css_laml9orov7k0croh47kv') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(12, 0, 'tinytable_css_laml9orov7k0croh47kv') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(13, 0, 'tinytable_css_laml9orov7k0croh47kv') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(14, 0, 'tinytable_css_laml9orov7k0croh47kv') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(15, 0, 'tinytable_css_laml9orov7k0croh47kv') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(16, 0, 'tinytable_css_laml9orov7k0croh47kv') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(17, 0, 'tinytable_css_laml9orov7k0croh47kv') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(18, 0, 'tinytable_css_laml9orov7k0croh47kv') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(19, 0, 'tinytable_css_laml9orov7k0croh47kv') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(20, 0, 'tinytable_css_laml9orov7k0croh47kv') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(0, 1, 'tinytable_css_vpp780r31pl51msp4t3f') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(1, 1, 'tinytable_css_vpp780r31pl51msp4t3f') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(2, 1, 'tinytable_css_vpp780r31pl51msp4t3f') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(3, 1, 'tinytable_css_vpp780r31pl51msp4t3f') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(4, 1, 'tinytable_css_vpp780r31pl51msp4t3f') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(5, 1, 'tinytable_css_vpp780r31pl51msp4t3f') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(6, 1, 'tinytable_css_vpp780r31pl51msp4t3f') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(7, 1, 'tinytable_css_vpp780r31pl51msp4t3f') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(8, 1, 'tinytable_css_vpp780r31pl51msp4t3f') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(9, 1, 'tinytable_css_vpp780r31pl51msp4t3f') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(10, 1, 'tinytable_css_vpp780r31pl51msp4t3f') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(11, 1, 'tinytable_css_vpp780r31pl51msp4t3f') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(12, 1, 'tinytable_css_vpp780r31pl51msp4t3f') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(13, 1, 'tinytable_css_vpp780r31pl51msp4t3f') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(14, 1, 'tinytable_css_vpp780r31pl51msp4t3f') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(15, 1, 'tinytable_css_vpp780r31pl51msp4t3f') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(16, 1, 'tinytable_css_vpp780r31pl51msp4t3f') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(17, 1, 'tinytable_css_vpp780r31pl51msp4t3f') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(18, 1, 'tinytable_css_vpp780r31pl51msp4t3f') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(19, 1, 'tinytable_css_vpp780r31pl51msp4t3f') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(20, 1, 'tinytable_css_vpp780r31pl51msp4t3f') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(12, 0, 'tinytable_css_j0u2bx8wvakwl53osj38') })\nwindow.addEventListener('load', function () { styleCell_tinytable_mfry9digwkzf1y06rn99(12, 1, 'tinytable_css_j0u2bx8wvakwl53osj38') })\n    </script>\n\n  </body>\n\n</html>\n```\n\n:::\n:::\n\n\n\nThis suggests that including additional  polynomial terms, up to fifth order, leads to an improvement in the model fit! However, further investigation of the data reveals that no polynomial terms beyond fifth order have significant $p$-values\nin a regression fit.\n\n By default, the `poly()` function orthogonalizes the predictors:\n this means that the features output by this function are not simply a\n sequence of powers of the argument. However, a linear model applied to the output of the `poly()` function will have the same fitted values as a linear model applied to the raw polynomials (although the coefficient estimates, standard errors, and p-values will differ). In order to obtain the raw polynomials from the `poly()` function,  the argument `raw = TRUE` must be used.\n\nOf course, we are in no way restricted to using polynomial transformations of the predictors. Here we try a log transformation.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmsummary(lm(medv ~ log(rm), data = Boston))\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<!DOCTYPE html> \n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>tinytable_v28p2dzkxm9i4i5xijlr</title>\n    <style>\n.table td.tinytable_css_q8qjyj2cvgd3x51d3g0l, .table th.tinytable_css_q8qjyj2cvgd3x51d3g0l {    border-bottom: solid 0.1em #d3d8dc; }\n.table td.tinytable_css_efo4d8n951410lbgb0xt, .table th.tinytable_css_efo4d8n951410lbgb0xt {    text-align: left; }\n.table td.tinytable_css_gu7l88wq1woes5zsw441, .table th.tinytable_css_gu7l88wq1woes5zsw441 {    text-align: center; }\n.table td.tinytable_css_nmjehb7gjqjusivv3xhb, .table th.tinytable_css_nmjehb7gjqjusivv3xhb {    border-bottom: solid 0.05em black; }\n    </style>\n    <script src=\"https://polyfill.io/v3/polyfill.min.js?features=es6\"></script>\n    <script id=\"MathJax-script\" async src=\"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\"></script>\n    <script>\n    MathJax = {\n      tex: {\n        inlineMath: [['$', '$'], ['\\\\(', '\\\\)']]\n      },\n      svg: {\n        fontCache: 'global'\n      }\n    };\n    </script>\n  </head>\n\n  <body>\n    <div class=\"container\">\n      <table class=\"table table-borderless\" id=\"tinytable_v28p2dzkxm9i4i5xijlr\" style=\"width: auto; margin-left: auto; margin-right: auto;\" data-quarto-disable-processing='true'>\n        <thead>\n        \n              <tr>\n                <th scope=\"col\"> </th>\n                <th scope=\"col\">(1)</th>\n              </tr>\n        </thead>\n        \n        <tbody>\n                <tr>\n                  <td>(Intercept)</td>\n                  <td>-76.488  </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(5.028)  </td>\n                </tr>\n                <tr>\n                  <td>log(rm)    </td>\n                  <td>54.055   </td>\n                </tr>\n                <tr>\n                  <td>           </td>\n                  <td>(2.739)  </td>\n                </tr>\n                <tr>\n                  <td>Num.Obs.   </td>\n                  <td>506      </td>\n                </tr>\n                <tr>\n                  <td>R2         </td>\n                  <td>0.436    </td>\n                </tr>\n                <tr>\n                  <td>R2 Adj.    </td>\n                  <td>0.435    </td>\n                </tr>\n                <tr>\n                  <td>AIC        </td>\n                  <td>3396.8   </td>\n                </tr>\n                <tr>\n                  <td>BIC        </td>\n                  <td>3409.5   </td>\n                </tr>\n                <tr>\n                  <td>Log.Lik.   </td>\n                  <td>-1695.424</td>\n                </tr>\n                <tr>\n                  <td>F          </td>\n                  <td>389.345  </td>\n                </tr>\n                <tr>\n                  <td>RMSE       </td>\n                  <td>6.90     </td>\n                </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <script>\n      function styleCell_tinytable_zxswkpj8l1nv3qem7z3y(i, j, css_id) {\n        var table = document.getElementById(\"tinytable_v28p2dzkxm9i4i5xijlr\");\n        table.rows[i].cells[j].classList.add(css_id);\n      }\n      function insertSpanRow(i, colspan, content) {\n        var table = document.getElementById('tinytable_v28p2dzkxm9i4i5xijlr');\n        var newRow = table.insertRow(i);\n        var newCell = newRow.insertCell(0);\n        newCell.setAttribute(\"colspan\", colspan);\n        // newCell.innerText = content;\n        // this may be unsafe, but innerText does not interpret <br>\n        newCell.innerHTML = content;\n      }\n      function spanCell_tinytable_zxswkpj8l1nv3qem7z3y(i, j, rowspan, colspan) {\n        var table = document.getElementById(\"tinytable_v28p2dzkxm9i4i5xijlr\");\n        const targetRow = table.rows[i];\n        const targetCell = targetRow.cells[j];\n        for (let r = 0; r < rowspan; r++) {\n          // Only start deleting cells to the right for the first row (r == 0)\n          if (r === 0) {\n            // Delete cells to the right of the target cell in the first row\n            for (let c = colspan - 1; c > 0; c--) {\n              if (table.rows[i + r].cells[j + c]) {\n                table.rows[i + r].deleteCell(j + c);\n              }\n            }\n          }\n          // For rows below the first, delete starting from the target column\n          if (r > 0) {\n            for (let c = colspan - 1; c >= 0; c--) {\n              if (table.rows[i + r] && table.rows[i + r].cells[j]) {\n                table.rows[i + r].deleteCell(j);\n              }\n            }\n          }\n        }\n        // Set rowspan and colspan of the target cell\n        targetCell.rowSpan = rowspan;\n        targetCell.colSpan = colspan;\n      }\n\nwindow.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(0, 0, 'tinytable_css_q8qjyj2cvgd3x51d3g0l') })\nwindow.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(0, 1, 'tinytable_css_q8qjyj2cvgd3x51d3g0l') })\nwindow.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(0, 0, 'tinytable_css_efo4d8n951410lbgb0xt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(1, 0, 'tinytable_css_efo4d8n951410lbgb0xt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(2, 0, 'tinytable_css_efo4d8n951410lbgb0xt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(3, 0, 'tinytable_css_efo4d8n951410lbgb0xt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(4, 0, 'tinytable_css_efo4d8n951410lbgb0xt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(5, 0, 'tinytable_css_efo4d8n951410lbgb0xt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(6, 0, 'tinytable_css_efo4d8n951410lbgb0xt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(7, 0, 'tinytable_css_efo4d8n951410lbgb0xt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(8, 0, 'tinytable_css_efo4d8n951410lbgb0xt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(9, 0, 'tinytable_css_efo4d8n951410lbgb0xt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(10, 0, 'tinytable_css_efo4d8n951410lbgb0xt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(11, 0, 'tinytable_css_efo4d8n951410lbgb0xt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(12, 0, 'tinytable_css_efo4d8n951410lbgb0xt') })\nwindow.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(0, 1, 'tinytable_css_gu7l88wq1woes5zsw441') })\nwindow.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(1, 1, 'tinytable_css_gu7l88wq1woes5zsw441') })\nwindow.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(2, 1, 'tinytable_css_gu7l88wq1woes5zsw441') })\nwindow.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(3, 1, 'tinytable_css_gu7l88wq1woes5zsw441') })\nwindow.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(4, 1, 'tinytable_css_gu7l88wq1woes5zsw441') })\nwindow.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(5, 1, 'tinytable_css_gu7l88wq1woes5zsw441') })\nwindow.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(6, 1, 'tinytable_css_gu7l88wq1woes5zsw441') })\nwindow.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(7, 1, 'tinytable_css_gu7l88wq1woes5zsw441') })\nwindow.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(8, 1, 'tinytable_css_gu7l88wq1woes5zsw441') })\nwindow.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(9, 1, 'tinytable_css_gu7l88wq1woes5zsw441') })\nwindow.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(10, 1, 'tinytable_css_gu7l88wq1woes5zsw441') })\nwindow.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(11, 1, 'tinytable_css_gu7l88wq1woes5zsw441') })\nwindow.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(12, 1, 'tinytable_css_gu7l88wq1woes5zsw441') })\nwindow.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(4, 0, 'tinytable_css_nmjehb7gjqjusivv3xhb') })\nwindow.addEventListener('load', function () { styleCell_tinytable_zxswkpj8l1nv3qem7z3y(4, 1, 'tinytable_css_nmjehb7gjqjusivv3xhb') })\n    </script>\n\n  </body>\n\n</html>\n```\n\n:::\n:::\n\n\n\n\n## Qualitative Predictors\n\nWe will now examine the `Carseats` data, which is part of the\n`ISLR2` library. We will  attempt to predict `Sales`\n(child car seat sales) in $400$ locations based on a number of\npredictors. Carseats have 400 rows and 11 columns.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(Carseats)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  Sales CompPrice Income Advertising Population Price ShelveLoc Age Education\n1  9.50       138     73          11        276   120       Bad  42        17\n2 11.22       111     48          16        260    83      Good  65        10\n3 10.06       113     35          10        269    80    Medium  59        12\n4  7.40       117    100           4        466    97    Medium  55        14\n5  4.15       141     64           3        340   128       Bad  38        13\n6 10.81       124    113          13        501    72       Bad  78        16\n  Urban  US\n1   Yes Yes\n2   Yes Yes\n3   Yes Yes\n4   Yes Yes\n5   Yes  No\n6    No Yes\n```\n\n\n:::\n\n```{.r .cell-code}\nCarseats |> janitor::clean_names() |> head()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  sales comp_price income advertising population price shelve_loc age education\n1  9.50        138     73          11        276   120        Bad  42        17\n2 11.22        111     48          16        260    83       Good  65        10\n3 10.06        113     35          10        269    80     Medium  59        12\n4  7.40        117    100           4        466    97     Medium  55        14\n5  4.15        141     64           3        340   128        Bad  38        13\n6 10.81        124    113          13        501    72        Bad  78        16\n  urban  us\n1   Yes Yes\n2   Yes Yes\n3   Yes Yes\n4   Yes Yes\n5   Yes  No\n6    No Yes\n```\n\n\n:::\n:::\n\n\n\nThe `Carseats` data includes qualitative predictors such as `shelveloc`, an indicator of the quality of the shelving location---that is, the  space within a store in which the car seat is displayed---at each location. The predictor `shelveloc` takes on three possible values:  *Bad*, *Medium*, and *Good*. Given a qualitative variable such as `shelveloc`, `R` generates dummy variables automatically. Below we fit a multiple regression model that includes some interaction terms.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlm_fit <- lm(Sales ~ . + Income:Advertising + Price:Age,\n    data = Carseats)\nmsummary(lm_fit)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<!DOCTYPE html> \n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>tinytable_qa0h6vgcsouzmzzdvmxa</title>\n    <style>\n.table td.tinytable_css_bmm4z0vw2k6ujui0xw7b, .table th.tinytable_css_bmm4z0vw2k6ujui0xw7b {    border-bottom: solid 0.1em #d3d8dc; }\n.table td.tinytable_css_uwtzt38yrdkk4jk9tglc, .table th.tinytable_css_uwtzt38yrdkk4jk9tglc {    text-align: left; }\n.table td.tinytable_css_e3250sjvu97s8ixjc91o, .table th.tinytable_css_e3250sjvu97s8ixjc91o {    text-align: center; }\n.table td.tinytable_css_57ukihpcpq7y0divmrlr, .table th.tinytable_css_57ukihpcpq7y0divmrlr {    border-bottom: solid 0.05em black; }\n    </style>\n    <script src=\"https://polyfill.io/v3/polyfill.min.js?features=es6\"></script>\n    <script id=\"MathJax-script\" async src=\"https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js\"></script>\n    <script>\n    MathJax = {\n      tex: {\n        inlineMath: [['$', '$'], ['\\\\(', '\\\\)']]\n      },\n      svg: {\n        fontCache: 'global'\n      }\n    };\n    </script>\n  </head>\n\n  <body>\n    <div class=\"container\">\n      <table class=\"table table-borderless\" id=\"tinytable_qa0h6vgcsouzmzzdvmxa\" style=\"width: auto; margin-left: auto; margin-right: auto;\" data-quarto-disable-processing='true'>\n        <thead>\n        \n              <tr>\n                <th scope=\"col\"> </th>\n                <th scope=\"col\">(1)</th>\n              </tr>\n        </thead>\n        \n        <tbody>\n                <tr>\n                  <td>(Intercept)         </td>\n                  <td>6.576   </td>\n                </tr>\n                <tr>\n                  <td>                    </td>\n                  <td>(1.009) </td>\n                </tr>\n                <tr>\n                  <td>CompPrice           </td>\n                  <td>0.093   </td>\n                </tr>\n                <tr>\n                  <td>                    </td>\n                  <td>(0.004) </td>\n                </tr>\n                <tr>\n                  <td>Income              </td>\n                  <td>0.011   </td>\n                </tr>\n                <tr>\n                  <td>                    </td>\n                  <td>(0.003) </td>\n                </tr>\n                <tr>\n                  <td>Advertising         </td>\n                  <td>0.070   </td>\n                </tr>\n                <tr>\n                  <td>                    </td>\n                  <td>(0.023) </td>\n                </tr>\n                <tr>\n                  <td>Population          </td>\n                  <td>0.000   </td>\n                </tr>\n                <tr>\n                  <td>                    </td>\n                  <td>(0.000) </td>\n                </tr>\n                <tr>\n                  <td>Price               </td>\n                  <td>-0.101  </td>\n                </tr>\n                <tr>\n                  <td>                    </td>\n                  <td>(0.007) </td>\n                </tr>\n                <tr>\n                  <td>ShelveLocGood       </td>\n                  <td>4.849   </td>\n                </tr>\n                <tr>\n                  <td>                    </td>\n                  <td>(0.153) </td>\n                </tr>\n                <tr>\n                  <td>ShelveLocMedium     </td>\n                  <td>1.953   </td>\n                </tr>\n                <tr>\n                  <td>                    </td>\n                  <td>(0.126) </td>\n                </tr>\n                <tr>\n                  <td>Age                 </td>\n                  <td>-0.058  </td>\n                </tr>\n                <tr>\n                  <td>                    </td>\n                  <td>(0.016) </td>\n                </tr>\n                <tr>\n                  <td>Education           </td>\n                  <td>-0.021  </td>\n                </tr>\n                <tr>\n                  <td>                    </td>\n                  <td>(0.020) </td>\n                </tr>\n                <tr>\n                  <td>UrbanYes            </td>\n                  <td>0.140   </td>\n                </tr>\n                <tr>\n                  <td>                    </td>\n                  <td>(0.112) </td>\n                </tr>\n                <tr>\n                  <td>USYes               </td>\n                  <td>-0.158  </td>\n                </tr>\n                <tr>\n                  <td>                    </td>\n                  <td>(0.149) </td>\n                </tr>\n                <tr>\n                  <td>Income × Advertising</td>\n                  <td>0.001   </td>\n                </tr>\n                <tr>\n                  <td>                    </td>\n                  <td>(0.000) </td>\n                </tr>\n                <tr>\n                  <td>Price × Age         </td>\n                  <td>0.000   </td>\n                </tr>\n                <tr>\n                  <td>                    </td>\n                  <td>(0.000) </td>\n                </tr>\n                <tr>\n                  <td>Num.Obs.            </td>\n                  <td>400     </td>\n                </tr>\n                <tr>\n                  <td>R2                  </td>\n                  <td>0.876   </td>\n                </tr>\n                <tr>\n                  <td>R2 Adj.             </td>\n                  <td>0.872   </td>\n                </tr>\n                <tr>\n                  <td>AIC                 </td>\n                  <td>1159.3  </td>\n                </tr>\n                <tr>\n                  <td>BIC                 </td>\n                  <td>1219.2  </td>\n                </tr>\n                <tr>\n                  <td>Log.Lik.            </td>\n                  <td>-564.669</td>\n                </tr>\n                <tr>\n                  <td>F                   </td>\n                  <td>209.988 </td>\n                </tr>\n                <tr>\n                  <td>RMSE                </td>\n                  <td>0.99    </td>\n                </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <script>\n      function styleCell_tinytable_hpvrqif05g0r9lmicsi9(i, j, css_id) {\n        var table = document.getElementById(\"tinytable_qa0h6vgcsouzmzzdvmxa\");\n        table.rows[i].cells[j].classList.add(css_id);\n      }\n      function insertSpanRow(i, colspan, content) {\n        var table = document.getElementById('tinytable_qa0h6vgcsouzmzzdvmxa');\n        var newRow = table.insertRow(i);\n        var newCell = newRow.insertCell(0);\n        newCell.setAttribute(\"colspan\", colspan);\n        // newCell.innerText = content;\n        // this may be unsafe, but innerText does not interpret <br>\n        newCell.innerHTML = content;\n      }\n      function spanCell_tinytable_hpvrqif05g0r9lmicsi9(i, j, rowspan, colspan) {\n        var table = document.getElementById(\"tinytable_qa0h6vgcsouzmzzdvmxa\");\n        const targetRow = table.rows[i];\n        const targetCell = targetRow.cells[j];\n        for (let r = 0; r < rowspan; r++) {\n          // Only start deleting cells to the right for the first row (r == 0)\n          if (r === 0) {\n            // Delete cells to the right of the target cell in the first row\n            for (let c = colspan - 1; c > 0; c--) {\n              if (table.rows[i + r].cells[j + c]) {\n                table.rows[i + r].deleteCell(j + c);\n              }\n            }\n          }\n          // For rows below the first, delete starting from the target column\n          if (r > 0) {\n            for (let c = colspan - 1; c >= 0; c--) {\n              if (table.rows[i + r] && table.rows[i + r].cells[j]) {\n                table.rows[i + r].deleteCell(j);\n              }\n            }\n          }\n        }\n        // Set rowspan and colspan of the target cell\n        targetCell.rowSpan = rowspan;\n        targetCell.colSpan = colspan;\n      }\n\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(0, 0, 'tinytable_css_bmm4z0vw2k6ujui0xw7b') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(0, 1, 'tinytable_css_bmm4z0vw2k6ujui0xw7b') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(0, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(1, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(2, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(3, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(4, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(5, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(6, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(7, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(8, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(9, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(10, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(11, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(12, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(13, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(14, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(15, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(16, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(17, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(18, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(19, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(20, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(21, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(22, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(23, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(24, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(25, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(26, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(27, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(28, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(29, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(30, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(31, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(32, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(33, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(34, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(35, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(36, 0, 'tinytable_css_uwtzt38yrdkk4jk9tglc') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(0, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(1, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(2, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(3, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(4, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(5, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(6, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(7, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(8, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(9, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(10, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(11, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(12, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(13, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(14, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(15, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(16, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(17, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(18, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(19, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(20, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(21, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(22, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(23, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(24, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(25, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(26, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(27, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(28, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(29, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(30, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(31, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(32, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(33, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(34, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(35, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(36, 1, 'tinytable_css_e3250sjvu97s8ixjc91o') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(28, 0, 'tinytable_css_57ukihpcpq7y0divmrlr') })\nwindow.addEventListener('load', function () { styleCell_tinytable_hpvrqif05g0r9lmicsi9(28, 1, 'tinytable_css_57ukihpcpq7y0divmrlr') })\n    </script>\n\n  </body>\n\n</html>\n```\n\n:::\n:::\n\n\n\nThe `contrasts()` function returns the coding that `R` uses for the dummy variables.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nattach(Carseats)\ncontrasts(ShelveLoc)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n       Good Medium\nBad       0      0\nGood      1      0\nMedium    0      1\n```\n\n\n:::\n:::\n\n\n\nUse `?contrasts` to learn about other contrasts, and how to set them.\n\n`R` has created a `ShelveLocGood` dummy variable that takes on a value of 1 if the shelving location is good, and 0 otherwise. It has also created a `ShelveLocMedium` dummy variable that equals 1 if the shelving location is medium, and 0 otherwise.\nA bad shelving location corresponds to a zero for each of the two dummy variables.\nThe fact that the coefficient for `ShelveLocGood` in the regression output is positive indicates that a good shelving location is associated with high sales (relative to a bad location). And `ShelveLocMedium` has a smaller positive coefficient, indicating that a medium shelving location is associated with higher sales than a bad shelving location but lower sales than a good shelving location.\n\n\n## Writing Functions\n\nR comes with numerous built-in functions, and many more are accessible through R libraries. However, there are times when a specific operation is needed for which no existing function is available. In such cases, we can create our own custom functions. Below, we illustrate this by creating a function called `LoadLibraries()` that loads the `tidyverse`, `broom`, and `car` packages. Attempting to call the function before its definition results in an error, as shown:\n\n\nNext, we define the function. The `+` symbols are printed by R automatically and should not be typed by the user. The `{` symbol indicates that a block of commands is about to follow. Pressing *Enter* after `{` causes R to display the `+` prompt, allowing for the input of multiple commands. The block is closed with `}` to signal the end of the function.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nLoadLibraries <- function() {\n  library(tidyverse)\n  library(broom)\n  library(car)\n  library(MASS)\n  library(ISLR2)\n  print(\"The libraries have been loaded.\")\n}\n```\n:::\n\n\n\nTyping `LoadLibraries` in the console after defining the function will display its content:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nLoadLibraries\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nfunction() {\n  library(tidyverse)\n  library(broom)\n  library(car)\n  library(MASS)\n  library(ISLR2)\n  print(\"The libraries have been loaded.\")\n}\n```\n\n\n:::\n:::\n\n\n\nCalling the function will load the specified libraries and display the print message:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nLoadLibraries()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"The libraries have been loaded.\"\n```\n\n\n:::\n:::\n",
    "supporting": [
      "ch03_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}